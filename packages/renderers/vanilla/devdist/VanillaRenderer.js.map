{"version":3,"file":"VanillaRenderer.js","sourceRoot":"","sources":["../src/VanillaRenderer.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * VanillaRenderer - Vanilla CSS-based TouchSpin renderer\n * Framework-agnostic renderer using pure CSS without dependencies\n */\nimport { AbstractRenderer } from '@touchspin/core/renderer';\n\nclass VanillaRenderer extends AbstractRenderer {\n  private prefixEl: HTMLElement | null = null;\n  private postfixEl: HTMLElement | null = null;\n\n  init(): void {\n    // Initialize internal element references\n    this.prefixEl = null;\n    this.postfixEl = null;\n\n    // Build and inject DOM structure\n    this.wrapper = this.buildInputGroup();\n    const wrapper = this.wrapper;\n    if (!wrapper) return;\n\n    // Find created elements and store references\n    const upButtonEl = wrapper.querySelector('[data-touchspin-injected=\"up\"]');\n    const downButtonEl = wrapper.querySelector('[data-touchspin-injected=\"down\"]');\n    this.prefixEl = wrapper.querySelector('[data-touchspin-injected=\"prefix\"]') as HTMLElement | null;\n    this.postfixEl = wrapper.querySelector('[data-touchspin-injected=\"postfix\"]') as HTMLElement | null;\n\n    // Attach core event handlers to buttons\n    const upButton = upButtonEl instanceof HTMLElement ? upButtonEl : null;\n    const downButton = downButtonEl instanceof HTMLElement ? downButtonEl : null;\n    this.core.attachUpEvents(upButton);\n    this.core.attachDownEvents(downButton);\n\n    // Register for setting changes\n    this.core.observeSetting('prefix', (newValue) => this.updatePrefix(newValue));\n    this.core.observeSetting('postfix', (newValue) => this.updatePostfix(newValue));\n    this.core.observeSetting('buttonup_class', (newValue) => this.updateButtonClass('up', newValue));\n    this.core.observeSetting('buttondown_class', (newValue) => this.updateButtonClass('down', newValue));\n    this.core.observeSetting('verticalupclass', (newValue) => this.updateVerticalButtonClass('up', newValue));\n    this.core.observeSetting('verticaldownclass', (newValue) => this.updateVerticalButtonClass('down', newValue));\n    this.core.observeSetting('verticalup', (newValue) => this.updateVerticalButtonText('up', newValue));\n    this.core.observeSetting('verticaldown', (newValue) => this.updateVerticalButtonText('down', newValue));\n    this.core.observeSetting('buttonup_txt', (newValue) => this.updateButtonText('up', newValue));\n    this.core.observeSetting('buttondown_txt', (newValue) => this.updateButtonText('down', newValue));\n    this.core.observeSetting('prefix_extraclass', (newValue) => this.updatePrefixClasses());\n    this.core.observeSetting('postfix_extraclass', (newValue) => this.updatePostfixClasses());\n    this.core.observeSetting('verticalbuttons', (newValue) => this.handleVerticalButtonsChange(newValue));\n    this.core.observeSetting('focusablebuttons', (newValue) => this.updateButtonFocusability(newValue));\n  }\n\n  buildInputGroup(): HTMLElement {\n    const isVertical = this.settings.verticalbuttons;\n\n    let html;\n    if (isVertical) {\n      html = `\n        <div class=\"ts-wrapper ts-wrapper--vertical\" data-touchspin-injected=\"wrapper\">\n          <span class=\"ts-addon ts-prefix ${this.settings.prefix_extraclass || ''}\" data-touchspin-injected=\"prefix\"${this.getPrefixTestId()}>${this.settings.prefix || ''}</span>\n          <span class=\"ts-addon ts-postfix ${this.settings.postfix_extraclass || ''}\" data-touchspin-injected=\"postfix\"${this.getPostfixTestId()}>${this.settings.postfix || ''}</span>\n          ${this.buildVerticalButtons()}\n        </div>\n      `;\n    } else {\n      html = `\n        <div class=\"ts-wrapper\" data-touchspin-injected=\"wrapper\">\n          <button \n            tabindex=\"${this.settings.focusablebuttons ? '0' : '-1'}\" \n            class=\"ts-btn ts-btn--down ${this.settings.buttondown_class || ''}\" \n            data-touchspin-injected=\"down\"${this.getDownButtonTestId()} \n            type=\"button\" \n            aria-label=\"Decrease value\"\n            ${this.input.disabled ? 'disabled' : ''}\n          >${this.settings.buttondown_txt || '−'}</button>\n          <span class=\"ts-addon ts-prefix ${this.settings.prefix_extraclass || ''}\" data-touchspin-injected=\"prefix\"${this.getPrefixTestId()}>${this.settings.prefix || ''}</span>\n          <span class=\"ts-addon ts-postfix ${this.settings.postfix_extraclass || ''}\" data-touchspin-injected=\"postfix\"${this.getPostfixTestId()}>${this.settings.postfix || ''}</span>\n          <button \n            tabindex=\"${this.settings.focusablebuttons ? '0' : '-1'}\" \n            class=\"ts-btn ts-btn--up ${this.settings.buttonup_class || ''}\" \n            data-touchspin-injected=\"up\"${this.getUpButtonTestId()} \n            type=\"button\" \n            aria-label=\"Increase value\"\n            ${this.input.disabled ? 'disabled' : ''}\n          >${this.settings.buttonup_txt || '+'}</button>\n        </div>\n      `;\n    }\n\n    // Create wrapper element\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = html.trim();\n    const wrapper = tempDiv.firstChild as HTMLElement;\n\n    // Insert wrapper and move input into it\n    const parent = this.input.parentElement;\n    if (parent) {\n      parent.insertBefore(wrapper, this.input);\n    }\n\n    // Position input correctly - after prefix, before postfix\n    const postfixEl = wrapper.querySelector('[data-touchspin-injected=\"postfix\"]');\n    if (postfixEl) {\n      wrapper.insertBefore(this.input, postfixEl);\n    } else {\n      // Fallback if no postfix - before up button\n      const upButton = wrapper.querySelector('[data-touchspin-injected=\"up\"]');\n      wrapper.insertBefore(this.input, upButton);\n    }\n\n    // Add input styling class\n    this.input.classList.add('ts-input');\n\n    // Hide empty prefix/postfix elements\n    this.hideEmptyPrefixPostfix(wrapper);\n\n    return wrapper;\n  }\n\n  buildVerticalButtons(): string {\n    return `\n      <div class=\"ts-vertical-wrapper\" data-touchspin-injected=\"vertical-wrapper\">\n        <button tabindex=\"${this.settings.focusablebuttons ? '0' : '-1'}\" class=\"ts-btn ts-btn--vertical ts-btn--vertical-up ${this.settings.verticalupclass || ''}\" data-touchspin-injected=\"up\"${this.getUpButtonTestId()} type=\"button\" aria-label=\"Increase value\">${this.settings.verticalup || '+'}</button>\n        <button tabindex=\"${this.settings.focusablebuttons ? '0' : '-1'}\" class=\"ts-btn ts-btn--vertical ts-btn--vertical-down ${this.settings.verticaldownclass || ''}\" data-touchspin-injected=\"down\"${this.getDownButtonTestId()} type=\"button\" aria-label=\"Decrease value\">${this.settings.verticaldown || '−'}</button>\n      </div>\n    `;\n  }\n\n\n  hideEmptyPrefixPostfix(wrapper: HTMLElement | null = this.wrapper) {\n    const prefixEl = this.prefixEl || wrapper?.querySelector('[data-touchspin-injected=\"prefix\"]');\n    const postfixEl = this.postfixEl || wrapper?.querySelector('[data-touchspin-injected=\"postfix\"]');\n\n    if (prefixEl && (!this.settings.prefix || this.settings.prefix === '')) {\n      prefixEl.style.display = 'none';\n    }\n    if (postfixEl && (!this.settings.postfix || this.settings.postfix === '')) {\n      postfixEl.style.display = 'none';\n    }\n  }\n\n  updatePrefix(value: string): void {\n    const prefixEl = this.prefixEl;\n    if (!prefixEl) return;\n\n    if (value && value !== '') {\n      prefixEl.textContent = value;\n      prefixEl.style.display = '';\n      prefixEl.className = `ts-addon ts-prefix ${this.settings.prefix_extraclass || ''}`.trim();\n    } else {\n      prefixEl.style.display = 'none';\n    }\n  }\n\n  updatePostfix(value: string): void {\n    const postfixEl = this.postfixEl;\n    if (!postfixEl) return;\n\n    if (value && value !== '') {\n      postfixEl.textContent = value;\n      postfixEl.style.display = '';\n      postfixEl.className = `ts-addon ts-postfix ${this.settings.postfix_extraclass || ''}`.trim();\n    } else {\n      postfixEl.style.display = 'none';\n    }\n  }\n\n  updateButtonClass(type: 'up' | 'down', className: string | null | undefined): void {\n    if (!this.wrapper) return;\n    const button = this.wrapper.querySelector(`[data-touchspin-injected=\"${type}\"]`);\n    if (!button) return;\n\n    // Preserve base classes and add custom class\n    const baseClasses = `ts-btn ts-btn--${type}`;\n    const verticalClass = button.classList.contains('ts-btn--vertical') ? ' ts-btn--vertical' : '';\n    button.className = `${baseClasses}${verticalClass} ${className || ''}`.trim();\n  }\n\n  updateVerticalButtonClass(type: 'up' | 'down', className: string | null | undefined): void {\n    if (!this.wrapper) return;\n    const verticalWrapper = this.wrapper.querySelector('[data-touchspin-injected=\"vertical-wrapper\"]');\n    if (!verticalWrapper) return;\n\n    const button = verticalWrapper.querySelector(`[data-touchspin-injected=\"${type}\"]`);\n    if (!button) return;\n\n    // Update vertical-specific class while preserving base classes\n    const baseClasses = `ts-btn ts-btn--${type} ts-btn--vertical`;\n    const buttonClass = this.settings.buttonup_class || this.settings.buttondown_class || '';\n    button.className = `${baseClasses} ${buttonClass} ${className || ''}`.trim();\n  }\n\n  updateVerticalButtonText(type: 'up' | 'down', text?: string): void {\n    if (!this.wrapper) return;\n    const verticalWrapper = this.wrapper.querySelector('[data-touchspin-injected=\"vertical-wrapper\"]');\n    if (!verticalWrapper) return;\n\n    const button = verticalWrapper.querySelector(`[data-touchspin-injected=\"${type}\"]`);\n    if (button) {\n      button.textContent = text || (type === 'up' ? '+' : '−');\n    }\n  }\n\n  updateButtonText(type: 'up' | 'down', text?: string): void {\n    if (!this.wrapper) return;\n    const button = this.wrapper.querySelector(`[data-touchspin-injected=\"${type}\"]`);\n    if (button) {\n      button.textContent = text || (type === 'up' ? '+' : '−');\n    }\n  }\n\n  updatePrefixClasses(): void {\n    const prefixEl = this.prefixEl;\n    if (prefixEl) {\n      prefixEl.className = `ts-addon ts-prefix ${this.settings.prefix_extraclass || ''}`.trim();\n    }\n  }\n\n  updatePostfixClasses(): void {\n    const postfixEl = this.postfixEl;\n    if (postfixEl) {\n      postfixEl.className = `ts-addon ts-postfix ${this.settings.postfix_extraclass || ''}`.trim();\n    }\n  }\n\n  handleVerticalButtonsChange(_newValue: boolean): void {\n    // Remove old DOM and rebuild with new layout\n    this.rebuildDOM();\n  }\n\n  rebuildDOM(): void {\n    // Remove old DOM and rebuild with current settings\n    this.removeInjectedElements();\n    // Reset wrapper reference since it was removed\n    this.wrapper = null;\n    this.prefixEl = null;\n    this.postfixEl = null;\n    this.buildAndAttachDOM();\n\n    if (this.wrapper) {\n      this.finalizeWrapperAttributes();\n    }\n  }\n\n  buildAndAttachDOM(): void {\n    // Build and inject DOM structure\n    this.wrapper = this.buildInputGroup();\n    const wrapper = this.wrapper;\n    if (!wrapper) return;\n\n    // Find created elements and store references\n    const upButtonEl = wrapper.querySelector('[data-touchspin-injected=\"up\"]');\n    const downButtonEl = wrapper.querySelector('[data-touchspin-injected=\"down\"]');\n    this.prefixEl = wrapper.querySelector('[data-touchspin-injected=\"prefix\"]') as HTMLElement | null;\n    this.postfixEl = wrapper.querySelector('[data-touchspin-injected=\"postfix\"]') as HTMLElement | null;\n\n    // Attach core event handlers to buttons\n    const upButton = upButtonEl instanceof HTMLElement ? upButtonEl : null;\n    const downButton = downButtonEl instanceof HTMLElement ? downButtonEl : null;\n    this.core.attachUpEvents(upButton);\n    this.core.attachDownEvents(downButton);\n  }\n\n  updateButtonFocusability(newValue: boolean): void {\n    // Find all buttons and update their tabindex\n    if (!this.wrapper) return;\n    const buttons = this.wrapper.querySelectorAll('[data-touchspin-injected=\"up\"], [data-touchspin-injected=\"down\"]');\n    const tabindex = newValue ? '0' : '-1';\n    buttons.forEach(button => {\n      button.setAttribute('tabindex', tabindex);\n    });\n  }\n\n  /**\n   * Apply theme via CSS custom properties\n   * @param {Object} theme - Theme object with CSS property values\n   */\n  // Accept any record of CSS custom property values (read-only for clarity)\n  setTheme(theme: Readonly<Record<string, string>>): void {\n    const wrapper = this.wrapper;\n    if (!wrapper || !theme) return;\n\n    Object.entries(theme).forEach(([key, value]) => {\n      const cssProperty = key.startsWith('--') ? key : `--ts-${key}`;\n      wrapper.style.setProperty(cssProperty, value);\n    });\n  }\n\n  teardown() {\n    // Remove added classes from input\n    this.input.classList.remove('ts-input');\n\n    // Call parent teardown to handle DOM cleanup\n    super.teardown();\n  }\n}\n\nexport default VanillaRenderer;\n"]}