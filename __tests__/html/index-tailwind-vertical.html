<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bootstrap TouchSpin</title>

  <script src="assets/jquery/jquery-3.7.1.min.js"></script>
  <link rel="stylesheet" href="assets/fontawesome/fontawesome-5.15.4.min.css">

  <!-- TAILWIND -->
  <script src="assets/tailwind/tailwind.min.js"></script>

  <script src="assets/numeral/numeral-2.0.6.min.js"></script>

  <!-- Load modern TouchSpin packages directly -->
    <script type="module">
      import { installJqueryTouchSpin } from '../../packages/jquery-plugin/src/index.js';
      import TailwindRenderer from '../../packages/renderers/tailwind/src/TailwindRenderer.js';

    // Install jQuery plugin
    installJqueryTouchSpin(window.jQuery);

    // Set global default renderer - no need to specify on each TouchSpin call
    globalThis.TouchSpinDefaultRenderer = TailwindRenderer;

    // Keep for backwards compatibility with tests
    window.TailwindRenderer = TailwindRenderer;
    window.modernTouchSpinInstalled = true;

    // Initialize all TouchSpin instances after plugin is loaded
    document.addEventListener('DOMContentLoaded', function() {
      $("#testinput_vertical").TouchSpin({
        verticalbuttons: true,
      });
      $("#testinput_vertical_lg").TouchSpin({
        prefix: "$",
        postfix: "/qty",
        verticalbuttons: true,
      });
      $("#rtl_testinput_vertical").TouchSpin({
        verticalbuttons: true,
      });
      $("#rtl_testinput_vertical_lg").TouchSpin({
        prefix: "$",
        postfix: "/qty",
        verticalbuttons: true,
      });
    });
  </script>

</head>

<body>
<div class="container mx-auto p-4">

  <div class="flex flex-wrap -mx-2">
    <div class="w-full md:w-1/3 px-2">
      <div class="wrapper mb-4" data-testid="touchspin-vertical">
        <label for="testinput_vertical" class="block text-sm font-medium text-gray-700 mb-1">#testinput_vertical:</label>
        <input id="testinput_vertical" type="text" value="50" name="testinput_vertical">

      </div>

      <div class="wrapper mb-4" data-testid="touchspin-vertical-lg">
        <label for="testinput_vertical_lg" class="block text-sm font-medium text-gray-700 mb-1">#testinput_vertical_lg:</label>
        <input id="testinput_vertical_lg" type="text" class="text-lg px-4 py-3" value="50">

      </div>

      <div class="wrapper rtl mb-4" dir="rtl" data-testid="touchspin-rtl-vertical">
        <label for="rtl_testinput_vertical" class="block text-sm font-medium text-gray-700 mb-1">#rtl_testinput_vertical:</label>
        <input id="rtl_testinput_vertical" type="text" value="50" name="rtl_testinput_vertical">

      </div>

      <div class="wrapper rtl mb-4" dir="rtl" data-testid="touchspin-rtl-vertical-lg">
        <label for="rtl_testinput_vertical_lg" class="block text-sm font-medium text-gray-700 mb-1">#rtl_testinput_vertical_lg:</label>
        <input id="rtl_testinput_vertical_lg" type="text" class="text-lg px-4 py-3" value="50">

      </div>

    </div>

    <div class="w-full md:w-2/3 px-2">
      <h6 class="text-lg font-semibold mb-2">Events</h6>
      <pre id="events_log"
           class="h-96 overflow-auto border border-gray-300 p-2 bg-gray-50 text-sm"></pre>
    </div>


  </div>

</div>


<!-- Blur target for tests -->
<button id="blur-target" type="button" style="position:absolute;left:-9999px;top:-9999px;">blur</button>

</body>
</html>
