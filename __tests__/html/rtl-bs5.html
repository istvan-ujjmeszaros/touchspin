<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
  <meta charset="utf-8">
  <title>Bootstrap TouchSpin - Bootstrap 5 RTL</title>

  <script src="assets/jquery/jquery-3.7.1.min.js"></script>
  <link rel="stylesheet" href="assets/bootstrap-icons/bootstrap-icons-1.10.5.min.css">

  <!-- BOOTSTRAP 5 RTL -->
  <link href="assets/bootstrap/bootstrap-5.3.2.rtl.min.css" rel="stylesheet">
  <script src="assets/bootstrap/bootstrap-5.3.2.bundle.min.js"></script>

  <script src="assets/numeral/numeral-2.0.6.min.js"></script>

  <!-- Load source CSS -->
  <link href="../../packages/renderers/bootstrap5/dist/touchspin-bootstrap5.css" rel="stylesheet" type="text/css" media="all">

  <!-- Load main TouchSpin source file -->
  <script type="module">
    import { installJqueryTouchSpin } from '../../packages/jquery-plugin/src/index.js';
    import Bootstrap5Renderer from '../../packages/renderers/bootstrap5/src/Bootstrap5Renderer.js';

    // Install jQuery plugin
    installJqueryTouchSpin(window.jQuery);

    // Set global default renderer - no need to specify on each TouchSpin call
    globalThis.TouchSpinDefaultRenderer = Bootstrap5Renderer;

    // Keep for backwards compatibility with tests
    window.Bootstrap5Renderer = Bootstrap5Renderer;
    window.modernTouchSpinInstalled = true;

    // Initialize all TouchSpin instances after plugin is loaded
    document.addEventListener('DOMContentLoaded', function() {
      $("#testinput_default").TouchSpin();
      $("#testinput_decimals").TouchSpin({
        decimals: 2,
        step: 0.01
      });
      $("#input_group_sm").TouchSpin({
        prefix: "$",
        postfix: "/qty"
      });
      $("#input_group_lg").TouchSpin({
        prefix: "$",
        postfix: "/qty"
      });
      $("#input_vertical").TouchSpin({
        verticalbuttons: true
      });
      $("#input_sm_vertical").TouchSpin({
        verticalbuttons: true
      });
      $("#input_lg_vertical").TouchSpin({
        verticalbuttons: true
      });
      $("#input_group_vertical").TouchSpin({
        prefix: "$",
        postfix: "/qty",
        verticalbuttons: true
      });
      $("#input_group_sm_vertical").TouchSpin({
        prefix: "$",
        postfix: "/qty",
        verticalbuttons: true
      });
      $("#input_group_lg_vertical").TouchSpin({
        prefix: "$",
        postfix: "/qty",
        verticalbuttons: true
      });
      $("#input_group_from_dom_prefix_postfix_vertical").TouchSpin({
        verticalbuttons: true
      });
      $("#input_group_from_dom_prefix_vertical").TouchSpin({
        verticalbuttons: true
      });
      $("#input_group_from_dom_prefix_postfix").TouchSpin();
      $("#input_group_from_dom_prefix").TouchSpin();
    });
  </script>

</head>

<body class="rtl">
<div class="container">

  <h1>Bootstrap TouchSpin - Bootstrap 5 RTL Tests</h1>

  <div class="row">
    <div class="col-md-4">
      <div class="wrapper">
        <label for="testinput_default" class="form-label">#testinput_default:</label>
        <input id="testinput_default" data-testid="touchspin-rtl-default" type="text" value="50" name="testinput_default" class="form-control">

      </div>

      <div class="wrapper">
        <label for="testinput_decimals" class="form-label">#testinput_decimals:</label>
        <input id="testinput_decimals" data-testid="touchspin-rtl-decimals" type="number" value="50" name="testinput_decimals" class="form-control">

      </div>

      <div class="wrapper">
        <label for="input_group_sm" class="form-label">#input_group_sm:</label>
        <input id="input_group_sm" data-testid="touchspin-rtl-group-sm" type="text" class="form-control form-control-sm" value="50">

      </div>

      <div class="wrapper">
        <label for="input_vertical" class="form-label">#input_vertical:</label>
        <input id="input_vertical" data-testid="touchspin-rtl-vertical" type="text" class="form-control" value="50">

      </div>

      <div class="wrapper">
        <label for="input_group_vertical" class="form-label">#input_group_vertical:</label>
        <input id="input_group_vertical" data-testid="touchspin-rtl-group-vertical" type="text" class="form-control" value="50">

      </div>

      <!-- Bootstrap 5 RTL no longer has input-group-prepend/append -->
      <div class="wrapper">
        <label for="input_group_from_dom_prefix_postfix" class="form-label">#input_group_from_dom_prefix_postfix:</label>
        <div class="input-group">
          <span class="input-group-text">pre</span>
          <input id="input_group_from_dom_prefix_postfix" data-testid="touchspin-rtl-prefix-postfix" type="text" class="form-control" value="50">
          <span class="input-group-text">post</span>
        </div>

      </div>

      <!-- Vertical buttons in input group (not last-child) -->
      <div class="wrapper">
        <label for="input_group_from_dom_prefix_postfix_vertical" class="form-label">#input_group_from_dom_prefix_postfix_vertical:</label>
        <div class="input-group">
          <span class="input-group-text">pre</span>
          <input id="input_group_from_dom_prefix_postfix_vertical" data-testid="touchspin-rtl-prefix-postfix-vertical" type="text" class="form-control" value="50">
          <span class="input-group-text">post</span>
        </div>

      </div>

    </div>

    <div class="col-md-8" style="height:100vh;">
      <h6>Events</h6>
      <pre id="events_log"
           style="height:200px;overflow:auto;outline:1px dotted gray;height:calc(100% - 50px);margin-top:15px;"></pre>
    </div>


  </div>

</div>


<!-- Blur target for tests -->
<button id="blur-target" type="button" style="position:absolute;left:-9999px;top:-9999px;">blur</button>

</body>
</html>
