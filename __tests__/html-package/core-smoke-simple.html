<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Simple TouchSpin Core Test (jQuery UMD Plugin)</title>
  <link href="../html/assets/bootstrap/bootstrap-5.3.2.min.css" rel="stylesheet">
  <script src="../html/assets/jquery/jquery-3.7.1.min.js"></script>
  <style>
    .container { max-width: 600px; margin-top: 50px; }
    .btn { margin: 2px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Simple TouchSpin Core Test</h1>
    <p>Testing core functionality via jQuery TouchSpin UMD plugin with Bootstrap UI.</p>

    <!-- Simple TouchSpin input with Bootstrap styling -->
    <div class="mb-4">
      <label for="simple-input" class="form-label">Number Input:</label>
      <input id="simple-input" type="text" value="50" class="form-control" style="width: 200px;">
    </div>

    <!-- API Test Buttons -->
    <div class="mb-3">
      <button class="btn btn-primary" onclick="getCoreInstance()?.upOnce()">Up Once</button>
      <button class="btn btn-primary" onclick="getCoreInstance()?.downOnce()">Down Once</button>
      <button class="btn btn-secondary" onclick="getCoreInstance()?.startUpSpin()">Start Up Spin</button>
      <button class="btn btn-secondary" onclick="getCoreInstance()?.startDownSpin()">Start Down Spin</button>
      <button class="btn btn-danger" onclick="getCoreInstance()?.stopSpin()">Stop Spin</button>
    </div>

    <div class="mb-3">
      <button class="btn btn-info" onclick="alert('Value: ' + (getCoreInstance()?.getValue() ?? 'Not initialized'))">Get Value</button>
      <button class="btn btn-info" onclick="getCoreInstance()?.setValue(100)">Set to 100</button>
      <button class="btn btn-warning" onclick="getCoreInstance()?.updateSettings({step: 10})">Set Step=10</button>
      <button class="btn btn-warning" onclick="getCoreInstance()?.updateSettings({step: 1})">Set Step=1</button>
    </div>

    <div class="mb-3">
      <button class="btn btn-success" onclick="initTouchSpin()">Initialize</button>
      <button class="btn btn-outline-danger" onclick="destroyTouchSpin()">Destroy</button>
    </div>

    <div class="mt-4">
      <p><strong>Instructions:</strong></p>
      <ul>
        <li>Click "Initialize" to set up TouchSpin</li>
        <li><strong>Focus the input and use arrow keys (↑↓)</strong></li>
        <li><strong>Focus the input and use mouse wheel</strong></li>
        <li>Test all API methods with buttons above</li>
      </ul>
      
    </div>
  </div>

  <script src="/packages/jquery-plugin/dist/jquery.touchspin-bootstrap5.umd.js"></script>

  <script>
    // Helper to get current core instance from the input
    window.getCoreInstance = function() {
      const input = document.getElementById('simple-input');
      return input._touchSpinCore;
    };

    // jQuery TouchSpin initialization
    window.initTouchSpin = function() {
      const input = document.getElementById('simple-input');
      $(input).TouchSpin({
        min: 0,
        max: 200,
        step: 1
      });
    };

    // Destroy TouchSpin
    window.destroyTouchSpin = function() {
      const input = document.getElementById('simple-input');
      $(input).TouchSpin('destroy');
    };

    // Auto-initialize on page load
    document.addEventListener('DOMContentLoaded', initTouchSpin);
  </script>
</body>
</html>
