#!/usr/bin/env sh

# Exit on any error
set -e

# Ensure commands run from repository root
cd -- "$(dirname -- "$0")/.."

echo "ğŸ¶ Husky pre-commit: Running guards and formatting"

# Run Gherkin guard first
echo "ğŸ›¡ï¸ Running Gherkin guard..."
yarn test:guard

# Run lint-staged (Biome formatting/linting)
echo "ğŸ¨ Running code formatting..."
yarn lint-staged

echo "âœ… Pre-commit validation complete"
