{"version":3,"file":"jquery.touchspin-tailwind.js","sources":["../packages/core/src/AbstractRenderer.js","../packages/core/src/index.js","../packages/renderers/tailwind/src/TailwindRenderer.js","../packages/jquery-plugin/src/index.js","../src/entries/jquery-tailwind.js"],"sourcesContent":["/**\n * AbstractRenderer - Base class for TouchSpin renderers\n * Part of @touchspin/core package to avoid duplication across renderer packages\n * \n * @example\n * class CustomRenderer extends AbstractRenderer {\n *   init() {\n *     this.wrapper = this.buildUI();\n *     const upBtn = this.wrapper.querySelector('[data-touchspin-injected=\"up\"]');\n *     const downBtn = this.wrapper.querySelector('[data-touchspin-injected=\"down\"]');\n *     this.core.attachUpEvents(upBtn);\n *     this.core.attachDownEvents(downBtn);\n *     this.core.observeSetting('prefix', (value) => this.updatePrefix(value));\n *   }\n * }\n */\nclass AbstractRenderer {\n  /**\n   * @param {HTMLInputElement} inputEl - The input element to render around\n   * @param {Object} settings - TouchSpin settings (read-only)\n   * @param {Object} core - TouchSpin core instance for event delegation\n   */\n  constructor(inputEl, settings, core) {\n    // New renderer architecture\n    /** @type {HTMLInputElement} */\n    this.input = inputEl;\n    /** @type {Object} */\n    this.settings = settings; // Read-only access to settings\n    /** @type {Object} */\n    this.core = core; // Reference to core for calling attachment methods\n    /** @type {HTMLElement|null} */\n    this.wrapper = null; // Set by subclasses during init()\n    \n    // Legacy compatibility (transitional)\n    this.$ = typeof $ !== 'undefined' ? $ : null;\n    this.originalinput = this.$ ? this.$(inputEl) : null;\n    this.container = null;\n    this.elements = null;\n  }\n\n  /**\n   * Initialize the renderer - build DOM structure and attach events\n   * Must be implemented by subclasses\n   * @abstract\n   */\n  init() { \n    throw new Error('init() must be implemented by renderer'); \n  }\n  \n  /**\n   * Cleanup renderer - remove injected elements and restore original state\n   * Default implementation removes all injected elements\n   * Subclasses can override for custom teardown\n   */\n  teardown() {\n    // Default implementation - remove all injected elements\n    this.removeInjectedElements();\n    // Subclasses can override for custom teardown\n  }\n  \n  /**\n   * Utility method to remove all injected TouchSpin elements\n   * Handles both regular wrappers and advanced input groups\n   * Called automatically by teardown()\n   */\n  removeInjectedElements() {\n    // Find and remove all elements with data-touchspin-injected attribute\n    if (this.wrapper) {\n      const injected = this.wrapper.querySelectorAll('[data-touchspin-injected]');\n      injected.forEach(el => el.remove());\n      \n      // If wrapper itself was injected and is not the original parent\n      if (this.wrapper.hasAttribute('data-touchspin-injected') && this.wrapper.parentElement) {\n        const injectedType = this.wrapper.getAttribute('data-touchspin-injected');\n        \n        if (injectedType === 'wrapper-advanced') {\n          // For advanced input groups, just remove the TouchSpin classes and attribute\n          // but keep the original input-group structure intact\n          this.wrapper.classList.remove('bootstrap-touchspin');\n          this.wrapper.removeAttribute('data-touchspin-injected');\n        } else {\n          // For regular wrappers, unwrap the input element\n          const parent = this.wrapper.parentElement;\n          parent.insertBefore(this.input, this.wrapper);\n          this.wrapper.remove();\n        }\n      }\n    }\n    \n    // Also find any injected elements that might be siblings or elsewhere\n    const allInjected = document.querySelectorAll('[data-touchspin-injected]');\n    allInjected.forEach(el => {\n      // Only remove if it's related to this input (check if input is descendant or sibling)\n      if (el.contains(this.input) || \n          (el.parentElement && el.parentElement.contains(this.input)) ||\n          this.input.parentElement?.contains(el)) {\n        // Don't remove the input itself\n        if (el !== this.input) {\n          el.remove();\n        }\n      }\n    });\n  }\n\n  // Legacy methods (transitional - for backward compatibility)\n  getFrameworkId() { throw new Error('getFrameworkId() must be implemented by subclasses'); }\n  getDefaultSettings() { return {}; }\n  buildAdvancedInputGroup(parentelement) { throw new Error('buildAdvancedInputGroup() must be implemented by subclasses'); }\n  buildInputGroup() { throw new Error('buildInputGroup() must be implemented by subclasses'); }\n  buildVerticalButtons() { throw new Error('buildVerticalButtons() must be implemented by subclasses'); }\n\n  initElements(container) {\n    this.container = container;\n    let downButtons = this._findElements(container, 'down');\n    let upButtons = this._findElements(container, 'up');\n    if (downButtons.length === 0 || upButtons.length === 0) {\n      const verticalContainer = this._findElements(container.parent(), 'vertical-wrapper');\n      if (verticalContainer.length > 0) {\n        downButtons = this._findElements(verticalContainer, 'down');\n        upButtons = this._findElements(verticalContainer, 'up');\n      }\n    }\n    \n    // Ensure input element has data-touchspin-injected=\"input\" for core event targeting\n    this.originalinput.attr('data-touchspin-injected', 'input');\n    \n    this.elements = {\n      down: downButtons,\n      up: upButtons,\n      input: this.$('input', container),\n      prefix: this._findElements(container, 'prefix').addClass(this.settings.prefix_extraclass),\n      postfix: this._findElements(container, 'postfix').addClass(this.settings.postfix_extraclass)\n    };\n    return this.elements;\n  }\n\n  _findElements(container, role) { return this.$(`[data-touchspin-injected=\"${role}\"]`, container); }\n\n  hideEmptyPrefixPostfix() {\n    const detached = {};\n    if (this.settings.prefix === '') detached._detached_prefix = this.elements.prefix.detach();\n    if (this.settings.postfix === '') detached._detached_postfix = this.elements.postfix.detach();\n    return detached;\n  }\n\n  updatePrefixPostfix(newsettings, detached) { throw new Error('updatePrefixPostfix() must be implemented by subclasses'); }\n\n  getWrapperTestId() {\n    const inputTestId = this.originalinput.attr('data-testid');\n    if (inputTestId) return ` data-testid=\"${inputTestId}-wrapper\"`;\n    return '';\n  }\n}\n\nexport default AbstractRenderer;","// @ts-check\n\n/**\n * @fileoverview Framework-agnostic core scaffold for TouchSpin.\n * Phase A (A1): minimal public API surface to enable incremental extraction.\n * This is a placeholder; logic will be ported from TouchSpinCore.migrated.js in A2â€“A7.\n */\n\n/**\n * @typedef {'none'|'floor'|'round'|'ceil'} ForceStepDivisibility\n */\n\n/**\n * @callback TouchSpinCalcCallback\n * @param {string} value\n * @returns {string}\n */\n\n/**\n * @typedef {Object} TouchSpinCoreOptions\n * @property {number|null=} min\n * @property {number|null=} max\n * @property {number|null=} firstclickvalueifempty\n * @property {number=} step\n * @property {number=} decimals\n * @property {ForceStepDivisibility=} forcestepdivisibility\n * @property {number=} stepinterval\n * @property {number=} stepintervaldelay\n * @property {boolean=} booster\n * @property {number=} boostat\n * @property {number|false=} maxboostedstep\n * @property {TouchSpinCalcCallback=} callback_before_calculation\n * @property {TouchSpinCalcCallback=} callback_after_calculation\n * @property {Function} renderer - Required renderer class (e.g., Bootstrap5Renderer, RawRenderer)\n * @property {string=} prefix - Text/HTML before input (handled by renderer)\n * @property {string=} postfix - Text/HTML after input (handled by renderer)\n * @property {string=} buttonup_class - CSS classes for up button (handled by renderer)\n * @property {string=} buttondown_class - CSS classes for down button (handled by renderer)\n * @property {string=} buttonup_txt - Content for up button (handled by renderer)\n * @property {string=} buttondown_txt - Content for down button (handled by renderer)\n */\n\nconst DEFAULTS = {\n  min: 0,\n  max: 100,\n  firstclickvalueifempty: null,\n  step: 1,\n  decimals: 0,\n  forcestepdivisibility: 'round',\n  stepinterval: 100,\n  stepintervaldelay: 500,\n  booster: true,\n  boostat: 10,\n  maxboostedstep: false,\n  callback_before_calculation: (v) => v,\n  callback_after_calculation: (v) => v,\n};\n\nconst INSTANCE_KEY = '_touchSpinCore';\n\nexport class TouchSpinCore {\n  /**\n   * @param {HTMLInputElement} inputEl\n   * @param {Partial<TouchSpinCoreOptions>=} opts\n   */\n  constructor(inputEl, opts = {}) {\n    if (!inputEl || inputEl.nodeName !== 'INPUT') {\n      throw new Error('TouchSpinCore requires an <input> element');\n    }\n\n    /** @type {HTMLInputElement} */\n    this.input = inputEl;\n    /** @type {TouchSpinCoreOptions} */\n    this.settings = Object.assign({}, DEFAULTS, opts);\n\n    // Renderer is required\n    if (!this.settings.renderer) {\n      throw new Error('TouchSpin requires a renderer. Use RawRenderer for no additional UI.');\n    }\n\n    /** @type {boolean} */\n    this.spinning = false;\n    /** @type {number} */\n    this.spincount = 0;\n    /** @type {false|'up'|'down'} */\n    this.direction = false;\n    /** @type {Map<string, Set<Function>>} */\n    this._events = new Map();\n    /** @type {Array<Function>} */\n    this._teardownCallbacks = [];\n    /** @type {Map<string, Set<Function>>} */\n    this._settingObservers = new Map(); // For observer pattern\n\n    /** @type {ReturnType<typeof setTimeout>|null} */\n    this._spinDelayTimeout = null;\n    /** @type {ReturnType<typeof setInterval>|null} */\n    this._spinIntervalTimer = null;\n\n    /** @type {HTMLElement|null} */\n    this._upButton = null;\n    /** @type {HTMLElement|null} */\n    this._downButton = null;\n    /** @type {HTMLElement|null} */\n    this._wrapper = null;\n\n    // DOM event handlers (bound methods)\n    this._handleUpMouseDown = this._handleUpMouseDown.bind(this);\n    this._handleDownMouseDown = this._handleDownMouseDown.bind(this);\n    this._handleMouseUp = this._handleMouseUp.bind(this);\n    this._handleInputChange = this._handleInputChange.bind(this);\n    this._handleKeyDown = this._handleKeyDown.bind(this);\n    this._handleKeyUp = this._handleKeyUp.bind(this);\n    this._handleWheel = this._handleWheel.bind(this);\n\n    // Core always manages the input element\n    this._initializeInput();\n\n    // Initialize renderer with reference to core\n    this.renderer = new this.settings.renderer(inputEl, this.settings, this);\n    this.renderer.init();\n  }\n\n  /**\n   * Initialize input element (core always handles this)\n   * @private\n   */\n  _initializeInput() {\n    // Core always handles these for the input\n    this._updateAriaAttributes();\n    this._checkValue(false);\n  }\n\n  /** Increment once according to step */\n  upOnce() {\n    if (this.input.disabled || this.input.hasAttribute('readonly')) {\n      return;\n    }\n\n    const v = this.getValue();\n    const next = this._nextValue('up', v);\n    const prevNum = v;\n    this._setDisplay(next, true);\n    if (isFinite(prevNum) && next !== prevNum) {\n      if (this.settings.max != null && next === this.settings.max) this.emit('max');\n      if (this.settings.min != null && next === this.settings.min) this.emit('min');\n    }\n    // If we hit the max while spinning upward, stop the spin to release lock\n    if (this.spinning && this.direction === 'up' && this.settings.max != null && next === this.settings.max) {\n      this.stopSpin();\n    }\n  }\n\n  /** Decrement once according to step */\n  downOnce() {\n    if (this.input.disabled || this.input.hasAttribute('readonly')) {\n      return;\n    }\n\n    const v = this.getValue();\n    const next = this._nextValue('down', v);\n    const prevNum = v;\n    this._setDisplay(next, true);\n    if (isFinite(prevNum) && next !== prevNum) {\n      if (this.settings.max != null && next === this.settings.max) this.emit('max');\n      if (this.settings.min != null && next === this.settings.min) this.emit('min');\n    }\n    // If we hit the min while spinning downward, stop the spin to release lock\n    if (this.spinning && this.direction === 'down' && this.settings.min != null && next === this.settings.min) {\n      this.stopSpin();\n    }\n  }\n\n  /** Start increasing repeatedly (placeholder) */\n  startUpSpin() { this._startSpin('up'); }\n\n  /** Start decreasing repeatedly (placeholder) */\n  startDownSpin() { this._startSpin('down'); }\n\n  /** Stop spinning (placeholder) */\n  stopSpin() {\n    this._clearSpinTimers();\n    if (this.spinning) {\n      if (this.direction === 'up') {\n        this.emit('stopupspin');\n        this.emit('stopspin');\n      } else if (this.direction === 'down') {\n        this.emit('stopdownspin');\n        this.emit('stopspin');\n      }\n    }\n    this.spinning = false;\n    this.direction = false;\n    this.spincount = 0;\n  }\n\n  /**\n   * @param {Partial<TouchSpinCoreOptions>} opts\n   */\n  updateSettings(opts) {\n    const oldSettings = { ...this.settings };\n    const newSettings = opts || {};\n\n    this.settings = Object.assign({}, this.settings, newSettings);\n\n    // If step/min/max changed and step != 1, align bounds to step like the jQuery plugin\n    const step = Number(this.settings.step || 1);\n    if ((newSettings.step !== undefined || newSettings.min !== undefined || newSettings.max !== undefined) && step !== 1) {\n      if (this.settings.max != null) {\n        this.settings.max = this._alignToStep(Number(this.settings.max), step, 'down');\n      }\n      if (this.settings.min != null) {\n        this.settings.min = this._alignToStep(Number(this.settings.min), step, 'up');\n      }\n    }\n\n    // Notify observers of changed settings\n    Object.keys(newSettings).forEach(key => {\n      if (oldSettings[key] !== newSettings[key]) {\n        const observers = this._settingObservers.get(key);\n        if (observers) {\n          observers.forEach(callback => {\n            try {\n              callback(newSettings[key], oldSettings[key]);\n            } catch (error) {\n              console.error('TouchSpin: Error in setting observer callback:', error);\n            }\n          });\n        }\n      }\n    });\n\n    // Core handles its own setting changes\n    this._updateAriaAttributes();\n    this._checkValue(false);\n  }\n\n  /** @returns {number} */\n  getValue() {\n    const raw = this.input.value;\n    if (raw === '') return NaN;\n    const before = this.settings.callback_before_calculation || ((v) => v);\n    const num = parseFloat(before(String(raw)));\n    return isNaN(num) ? NaN : num;\n  }\n\n  /**\n   * @param {number|string} v\n   */\n  setValue(v) {\n    if (this.input.disabled || this.input.hasAttribute('readonly')) return;\n    const parsed = Number(v);\n    if (!isFinite(parsed)) return;\n    const adjusted = this._applyConstraints(parsed);\n    this._setDisplay(adjusted, true);\n  }\n\n  /**\n   * Initialize DOM event handling by finding elements and attaching listeners.\n   * Must be called after the renderer has created the DOM structure.\n   */\n  initDOMEventHandling() {\n    // Find DOM elements and attach listeners\n    this._findDOMElements();\n    this._attachDOMEventListeners();\n  }\n\n  /**\n   * Register a teardown callback that will be called when the instance is destroyed.\n   * This allows wrapper libraries to register cleanup logic.\n   * @param {Function} callback - Function to call on destroy\n   * @returns {Function} - Unregister function\n   */\n  registerTeardown(callback) {\n    if (typeof callback !== 'function') {\n      throw new Error('Teardown callback must be a function');\n    }\n    this._teardownCallbacks.push(callback);\n\n    // Return unregister function\n    return () => {\n      const index = this._teardownCallbacks.indexOf(callback);\n      if (index > -1) {\n        this._teardownCallbacks.splice(index, 1);\n      }\n    };\n  }\n\n  /** Cleanup and destroy the TouchSpin instance */\n  destroy() {\n    this.stopSpin();\n\n    // Renderer cleans up its added elements\n    if (this.renderer && this.renderer.teardown) {\n      this.renderer.teardown();\n    }\n\n    // Core cleans up input events only\n    this._detachDOMEventListeners();\n\n    // Call all registered teardown callbacks (for wrapper cleanup)\n    this._teardownCallbacks.forEach(callback => {\n      try {\n        callback();\n      } catch (error) {\n        console.error('TouchSpin teardown callback error:', error);\n      }\n    });\n    this._teardownCallbacks.length = 0; // Clear the array\n\n    // Clear setting observers\n    this._settingObservers.clear();\n\n    // Remove instance from element\n    if (this.input[INSTANCE_KEY] === this) {\n      delete this.input[INSTANCE_KEY];\n    }\n  }\n\n  /**\n   * Create a plain public API object with bound methods for wrappers.\n   * @returns {TouchSpinCorePublicAPI}\n   */\n  toPublicApi() {\n    return {\n      upOnce: this.upOnce.bind(this),\n      downOnce: this.downOnce.bind(this),\n      startUpSpin: this.startUpSpin.bind(this),\n      startDownSpin: this.startDownSpin.bind(this),\n      stopSpin: this.stopSpin.bind(this),\n      updateSettings: this.updateSettings.bind(this),\n      getValue: this.getValue.bind(this),\n      setValue: this.setValue.bind(this),\n      destroy: this.destroy.bind(this),\n      on: this.on.bind(this),\n      off: this.off.bind(this),\n      initDOMEventHandling: this.initDOMEventHandling.bind(this),\n      registerTeardown: this.registerTeardown.bind(this),\n      attachUpEvents: this.attachUpEvents.bind(this),\n      attachDownEvents: this.attachDownEvents.bind(this),\n      observeSetting: this.observeSetting.bind(this),\n    };\n  }\n\n  // --- Renderer Event Attachment Methods ---\n  /**\n   * Attach up button events to an element\n   * Called by renderers after creating up button\n   * @param {HTMLElement|null} element - The element to attach events to\n   */\n  attachUpEvents(element) {\n    if (!element) {\n      console.warn('TouchSpin: attachUpEvents called with null element');\n      return;\n    }\n\n    element.addEventListener('mousedown', this._handleUpMouseDown);\n    element.addEventListener('touchstart', this._handleUpMouseDown, {passive: false});\n  }\n\n  /**\n   * Attach down button events to an element\n   * Called by renderers after creating down button\n   * @param {HTMLElement|null} element - The element to attach events to\n   */\n  attachDownEvents(element) {\n    if (!element) {\n      console.warn('TouchSpin: attachDownEvents called with null element');\n      return;\n    }\n\n    element.addEventListener('mousedown', this._handleDownMouseDown);\n    element.addEventListener('touchstart', this._handleDownMouseDown, {passive: false});\n  }\n\n  // --- Settings Observer Pattern ---\n  /**\n   * Allow renderers to observe setting changes\n   * @param {string} settingName - Name of setting to observe\n   * @param {Function} callback - Function to call when setting changes (newValue, oldValue)\n   * @returns {Function} Unsubscribe function\n   */\n  observeSetting(settingName, callback) {\n    if (!this._settingObservers.has(settingName)) {\n      this._settingObservers.set(settingName, new Set());\n    }\n\n    const observers = this._settingObservers.get(settingName);\n    observers.add(callback);\n\n    // Return unsubscribe function\n    return () => observers.delete(callback);\n  }\n\n  // --- Minimal internal emitter API ---\n  /**\n   * Subscribe to a core event.\n   * Events: 'min', 'max', 'startspin', 'startupspin', 'startdownspin', 'stopspin', 'stopupspin', 'stopdownspin'\n   * @param {string} event\n   * @param {(detail?: any) => void} handler\n   */\n  on(event, handler) {\n    const set = this._events.get(event) || new Set();\n    set.add(handler);\n    this._events.set(event, set);\n    return () => this.off(event, handler);\n  }\n\n  /**\n   * Unsubscribe from a core event.\n   * @param {string} event\n   * @param {(detail?: any) => void=} handler\n   */\n  off(event, handler) {\n    const set = this._events.get(event);\n    if (!set) return;\n    if (!handler) {\n      this._events.delete(event);\n      return;\n    }\n    set.delete(handler);\n    if (set.size === 0) this._events.delete(event);\n  }\n\n  /**\n   * Emit a core event to subscribers.\n   * @param {string} event\n   * @param {any=} detail\n   */\n  emit(event, detail) {\n    const set = this._events.get(event);\n    if (!set || set.size === 0) return;\n    for (const fn of [...set]) {\n      try { fn(detail); } catch (_) {}\n    }\n  }\n\n  /**\n   * Internal: start timed spin in a direction with initial step, delay, then interval.\n   * @param {'up'|'down'} dir\n   */\n  _startSpin(dir) {\n    if (this.input.disabled || this.input.hasAttribute('readonly')) return;\n    // If changing direction, reset counters\n    const changed = (!this.spinning || this.direction !== dir);\n    if (changed) {\n      this.spinning = true;\n      this.direction = dir;\n      this.spincount = 0;\n      // Match jQuery plugin event order: startspin then direction-specific\n      this.emit('startspin');\n      if (dir === 'up') this.emit('startupspin'); else this.emit('startdownspin');\n    }\n\n    // Clear previous timers\n    this._clearSpinTimers();\n    // Schedule repeat after delay, then at interval (no immediate step; wrapper triggers first step)\n    const delay = this.settings.stepintervaldelay || 500;\n    const interval = this.settings.stepinterval || 100;\n    this._spinDelayTimeout = setTimeout(() => {\n      this._spinDelayTimeout = null;\n      this._spinIntervalTimer = setInterval(() => {\n        if (!this.spinning || this.direction !== dir) return; // safety\n        this._spinStep(dir);\n      }, interval);\n    }, delay);\n  }\n\n  _clearSpinTimers() {\n    try { if (this._spinDelayTimeout) { clearTimeout(this._spinDelayTimeout); } } catch {}\n    try { if (this._spinIntervalTimer) { clearInterval(this._spinIntervalTimer); } } catch {}\n    this._spinDelayTimeout = null;\n    this._spinIntervalTimer = null;\n  }\n\n  /**\n   * Compute the next numeric value for a direction, respecting step, booster and bounds.\n   * @param {'up'|'down'} dir\n   * @param {number} current\n   */\n  _nextValue(dir, current) {\n    let v = current;\n    if (isNaN(v)) {\n      v = this._valueIfIsNaN();\n    } else {\n      const base = this.settings.step || 1;\n      const boostat = Math.max(1, parseInt(String(this.settings.boostat || 10), 10));\n      const stepUnclamped = Math.pow(2, Math.floor(this.spincount / boostat)) * base;\n      const mbs = this.settings.maxboostedstep;\n      let step = stepUnclamped;\n      if (mbs && isFinite(mbs) && stepUnclamped > Number(mbs)) {\n        step = Number(mbs);\n        // Align current value to the boosted step grid when clamped (parity with jQuery plugin)\n        v = Math.round(v / step) * step;\n      }\n      step = Math.max(base, step);\n      v = dir === 'up' ? v + step : v - step;\n    }\n    return this._applyConstraints(v);\n  }\n\n  /** Returns a reasonable value to use when current is NaN. */\n  _valueIfIsNaN() {\n    if (typeof this.settings.firstclickvalueifempty === 'number') {\n      return this.settings.firstclickvalueifempty;\n    }\n    const min = (typeof this.settings.min === 'number') ? this.settings.min : 0;\n    const max = (typeof this.settings.max === 'number') ? this.settings.max : min;\n    return (min + max) / 2;\n  }\n\n  /** Apply step divisibility and clamp to min/max. */\n  _applyConstraints(v) {\n    const aligned = this._forcestepdivisibility(v);\n    const min = this.settings.min;\n    const max = this.settings.max;\n    let clamped = aligned;\n    if (min != null && clamped < min) clamped = min;\n    if (max != null && clamped > max) clamped = max;\n    return clamped;\n  }\n\n  /** Determine the effective step with booster if enabled. */\n  _getBoostedStep() {\n    const base = this.settings.step || 1;\n    if (!this.settings.booster) return base;\n    const boostat = Math.max(1, parseInt(String(this.settings.boostat || 10), 10));\n    let boosted = Math.pow(2, Math.floor(this.spincount / boostat)) * base;\n    const mbs = this.settings.maxboostedstep;\n    if (mbs && isFinite(mbs)) {\n      const cap = Number(mbs);\n      if (boosted > cap) boosted = cap;\n    }\n    return Math.max(base, boosted);\n  }\n\n  /** Aligns value to step per forcestepdivisibility. */\n  _forcestepdivisibility(val) {\n    const mode = this.settings.forcestepdivisibility || 'round';\n    const step = this.settings.step || 1;\n    const dec = this.settings.decimals || 0;\n    let out;\n    switch (mode) {\n      case 'floor':\n        out = Math.floor(val / step) * step; break;\n      case 'ceil':\n        out = Math.ceil(val / step) * step; break;\n      case 'none':\n        out = val; break;\n      case 'round':\n      default:\n        out = Math.round(val / step) * step; break;\n    }\n    // Normalize to configured decimals without string pipeline; formatting applies later\n    return Number(out.toFixed(dec));\n  }\n\n  /** Aligns a value to nearest step boundary using integer arithmetic. */\n  _alignToStep(val, step, dir) {\n    if (step === 0) return val;\n    let k = 1, s = step;\n    while (((s * k) % 1) !== 0 && k < 1e6) k *= 10;\n    const V = Math.round(val * k);\n    const S = Math.round(step * k);\n    const r = V % S;\n    if (r === 0) return val;\n    return (dir === 'down' ? (V - r) : (V + (S - r))) / k;\n  }\n\n  /** Format and write to input, optionally emit change if different. */\n  _setDisplay(num, mayTriggerChange) {\n    const prev = String(this.input.value ?? '');\n    const next = this._formatDisplay(num);\n    this.input.value = next;\n    this._updateAriaAttributes();\n    if (mayTriggerChange && prev !== next) {\n      // mirror plugin behavior: trigger a native change event\n      this.input.dispatchEvent(new Event('change', { bubbles: true }));\n    }\n    return next;\n  }\n\n  _formatDisplay(num) {\n    const dec = this.settings.decimals || 0;\n    const after = this.settings.callback_after_calculation || ((v) => v);\n    const s = Number(num).toFixed(dec);\n    return after(s);\n  }\n\n  /**\n   * Perform one spin step in a direction while tracking spincount for booster.\n   * @param {'up'|'down'} dir\n   */\n  _spinStep(dir) {\n    this.spincount++;\n    if (dir === 'up') this.upOnce(); else this.downOnce();\n  }\n\n  /** Sanitize current input value and update display; optionally emits change. */\n  _checkValue(mayTriggerChange) {\n    const v = this.getValue();\n    if (!isFinite(v)) return;\n    const adjusted = this._applyConstraints(v);\n    this._setDisplay(adjusted, !!mayTriggerChange);\n  }\n\n  _updateAriaAttributes() {\n    const el = this.input;\n    if (el.getAttribute('role') !== 'spinbutton') {\n      el.setAttribute('role', 'spinbutton');\n    }\n    const min = this.settings.min;\n    const max = this.settings.max;\n    if (min != null) el.setAttribute('aria-valuemin', String(min)); else el.removeAttribute('aria-valuemin');\n    if (max != null) el.setAttribute('aria-valuemax', String(max)); else el.removeAttribute('aria-valuemax');\n    const raw = el.value;\n    const before = this.settings.callback_before_calculation || ((v) => v);\n    const num = parseFloat(before(String(raw)));\n    if (isFinite(num)) el.setAttribute('aria-valuenow', String(num)); else el.removeAttribute('aria-valuenow');\n    el.setAttribute('aria-valuetext', String(raw));\n  }\n\n  // --- DOM Event Handling Methods ---\n\n  /**\n   * Find and store references to DOM elements using data-touchspin-injected attributes.\n   * @private\n   */\n  _findDOMElements() {\n    // Core doesn't need to find buttons - renderers handle button events directly\n    // We only need to find the wrapper for potential future use\n    let wrapper = this.input.parentElement;\n    while (wrapper && !wrapper.hasAttribute('data-touchspin-injected')) {\n      wrapper = wrapper.parentElement;\n    }\n    this._wrapper = wrapper;\n  }\n\n  /**\n   * Attach DOM event listeners to elements.\n   * @private\n   */\n  _attachDOMEventListeners() {\n    // Core should NOT attach button events - renderers handle that via attachUpEvents/attachDownEvents\n\n    // Global mouseup/touchend to stop spinning\n    document.addEventListener('mouseup', this._handleMouseUp);\n    document.addEventListener('mouseleave', this._handleMouseUp);\n    document.addEventListener('touchend', this._handleMouseUp);\n\n    // Input events (always attach these - they work without renderer UI)\n    this.input.addEventListener('input', this._handleInputChange);\n    this.input.addEventListener('change', this._handleInputChange);\n    this.input.addEventListener('keydown', this._handleKeyDown);\n    this.input.addEventListener('keyup', this._handleKeyUp);\n    this.input.addEventListener('wheel', this._handleWheel);\n  }\n\n  /**\n   * Remove DOM event listeners.\n   * @private\n   */\n  _detachDOMEventListeners() {\n    // Core does not manage button events - renderers handle their own cleanup\n\n    // Global events\n    document.removeEventListener('mouseup', this._handleMouseUp);\n    document.removeEventListener('mouseleave', this._handleMouseUp);\n    document.removeEventListener('touchend', this._handleMouseUp);\n\n    // Input events\n    this.input.removeEventListener('input', this._handleInputChange);\n    this.input.removeEventListener('change', this._handleInputChange);\n    this.input.removeEventListener('keydown', this._handleKeyDown);\n    this.input.removeEventListener('keyup', this._handleKeyUp);\n    this.input.removeEventListener('wheel', this._handleWheel);\n  }\n\n  // --- DOM Event Handlers ---\n\n  /**\n   * Handle mousedown/touchstart on up button.\n   * @private\n   */\n  _handleUpMouseDown(e) {\n    e.preventDefault();\n    this.upOnce();\n    this.startUpSpin();\n  }\n\n  /**\n   * Handle mousedown/touchstart on down button.\n   * @private\n   */\n  _handleDownMouseDown(e) {\n    e.preventDefault();\n    this.downOnce();\n    this.startDownSpin();\n  }\n\n  /**\n   * Handle mouseup/touchend/mouseleave to stop spinning.\n   * @private\n   */\n  _handleMouseUp(e) {\n    this.stopSpin();\n  }\n\n  /**\n   * Handle input/change events on the input element.\n   * @private\n   */\n  _handleInputChange(e) {\n    this._checkValue(true);\n  }\n\n  /**\n   * Handle keydown events on the input element.\n   * @private\n   */\n  _handleKeyDown(e) {\n    switch (e.key) {\n      case 'ArrowUp':\n        e.preventDefault();\n        this.upOnce();\n        this.startUpSpin();\n        break;\n      case 'ArrowDown':\n        e.preventDefault();\n        this.downOnce();\n        this.startDownSpin();\n        break;\n      case 'Enter':\n        this._checkValue(true);\n        break;\n    }\n  }\n\n  /**\n   * Handle keyup events on the input element.\n   * @private\n   */\n  _handleKeyUp(e) {\n    if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {\n      this.stopSpin();\n    }\n  }\n\n  /**\n   * Handle wheel events on the input element.\n   * @private\n   */\n  _handleWheel(e) {\n    if (document.activeElement === this.input) {\n      e.preventDefault();\n      if (e.deltaY < 0) {\n        this.upOnce();\n      } else if (e.deltaY > 0) {\n        this.downOnce();\n      }\n    }\n  }\n}\n\n/**\n * @typedef {Object} TouchSpinCorePublicAPI\n * @property {() => void} upOnce\n * @property {() => void} downOnce\n * @property {() => void} startUpSpin\n * @property {() => void} startDownSpin\n * @property {() => void} stopSpin\n * @property {(opts: Partial<TouchSpinCoreOptions>) => void} updateSettings\n * @property {() => number} getValue\n * @property {(v: number|string) => void} setValue\n * @property {() => void} destroy\n * @property {(event: string, handler: (detail?: any) => void) => () => void} on\n * @property {(event: string, handler?: (detail?: any) => void) => void} off\n * @property {() => void} initDOMEventHandling\n * @property {(callback: Function) => () => void} registerTeardown\n */\n\n/**\n * Initialize TouchSpin on an input element or get existing instance.\n * @param {HTMLInputElement} inputEl\n * @param {Partial<TouchSpinCoreOptions>=} opts\n * @returns {TouchSpinCorePublicAPI}\n */\nexport function TouchSpin(inputEl, opts) {\n  // If options provided, initialize/reinitialize\n  if (opts !== undefined) {\n    // Destroy existing instance if it exists (destroy() removes itself from element)\n    if (inputEl[INSTANCE_KEY]) {\n      inputEl[INSTANCE_KEY].destroy();\n    }\n\n    // Create new instance and store on element\n    const core = new TouchSpinCore(inputEl, opts);\n    inputEl[INSTANCE_KEY] = core;\n\n    // Initialize DOM event handling\n    core.initDOMEventHandling();\n\n    return core.toPublicApi();\n  }\n\n  // No options - return existing instance or create with defaults\n  if (!inputEl[INSTANCE_KEY]) {\n    const core = new TouchSpinCore(inputEl, {});\n    inputEl[INSTANCE_KEY] = core;\n    core.initDOMEventHandling();\n    return core.toPublicApi();\n  }\n\n  return inputEl[INSTANCE_KEY].toPublicApi();\n}\n\n/**\n * Get existing TouchSpin instance from input element (without creating one).\n * @param {HTMLInputElement} inputEl\n * @returns {TouchSpinCorePublicAPI|null}\n */\nexport function getTouchSpin(inputEl) {\n  return inputEl[INSTANCE_KEY] ? inputEl[INSTANCE_KEY].toPublicApi() : null;\n}\n\n/**\n * Create and return a plain public API bound to a new core instance.\n * @param {HTMLInputElement} inputEl\n * @param {Partial<TouchSpinCoreOptions>=} opts\n * @returns {TouchSpinCorePublicAPI}\n * @deprecated Use TouchSpin() instead\n */\nexport function createPublicApi(inputEl, opts) {\n  return TouchSpin(inputEl, opts);\n}\n\n/** Event name constants for wrappers to map/bridge. */\nexport const CORE_EVENTS = Object.freeze({\n  MIN: 'min',\n  MAX: 'max',\n  START_SPIN: 'startspin',\n  START_UP: 'startupspin',\n  START_DOWN: 'startdownspin',\n  STOP_SPIN: 'stopspin',\n  STOP_UP: 'stopupspin',\n  STOP_DOWN: 'stopdownspin',\n});\n\n/**\n * Convenience helper to attach core to an input element.\n * @param {HTMLInputElement} inputEl\n * @param {Partial<TouchSpinCoreOptions>=} opts\n * @returns {TouchSpinCore}\n */\nexport function attach(inputEl, opts) {\n  return new TouchSpinCore(inputEl, opts);\n}\n\nexport default TouchSpinCore;\n\n// Export renderers\nexport { default as RawRenderer } from './RawRenderer.js';\nexport { default as AbstractRenderer } from './AbstractRenderer.js';\n","/**\n * Tailwind CSS Renderer - New Architecture\n * Uses Tailwind utility classes only; no Bootstrap CSS dependency.\n */\nimport AbstractRenderer from '../../../core/src/AbstractRenderer.js';\n\nclass TailwindRenderer extends AbstractRenderer {\n\n  init() {\n    // 1. Build and inject DOM structure around input\n    this.wrapper = this.buildInputGroup();\n    \n    // 2. Find created buttons\n    const upButton = this.wrapper.querySelector('[data-touchspin-injected=\"up\"]');\n    const downButton = this.wrapper.querySelector('[data-touchspin-injected=\"down\"]');\n    \n    // 3. Tell core to attach its event handlers\n    this.core.attachUpEvents(upButton);\n    this.core.attachDownEvents(downButton);\n    \n    // 4. Register for setting changes we care about\n    this.core.observeSetting('prefix', (newValue) => this.updatePrefix(newValue));\n    this.core.observeSetting('postfix', (newValue) => this.updatePostfix(newValue));\n    this.core.observeSetting('buttonup_class', (newValue) => this.updateButtonClass('up', newValue));\n    this.core.observeSetting('buttondown_class', (newValue) => this.updateButtonClass('down', newValue));\n  }\n\n  // teardown() uses inherited removeInjectedElements() - no override needed\n\n  buildInputGroup() {\n    // Check if input is already inside a flex container\n    const existingContainer = this.input.closest('.flex');\n    \n    if (existingContainer && existingContainer.classList.contains('rounded-md')) {\n      return this.buildAdvancedInputGroup(existingContainer);\n    } else {\n      return this.buildBasicInputGroup();\n    }\n  }\n\n  buildBasicInputGroup() {\n    const inputSize = this._detectInputSize();\n    const isVertical = this.settings.verticalbuttons;\n    \n    let html;\n    if (isVertical) {\n      html = `\n        <div class=\"flex rounded-md shadow-sm border border-gray-300 bootstrap-touchspin focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 has-[:disabled]:opacity-60 has-[:disabled]:bg-gray-50 has-[:read-only]:bg-gray-50\" data-touchspin-injected=\"wrapper\">\n          <span class=\"inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon\" data-touchspin-injected=\"prefix\">${this.settings.prefix || ''}</span>\n          <div class=\"flex flex-col ml-1 bootstrap-touchspin-vertical-button-wrapper\" data-touchspin-injected=\"vertical-wrapper\">\n            <button tabindex=\"-1\" class=\"inline-flex items-center justify-center px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border border-gray-300 rounded-t tailwind-btn bootstrap-touchspin-up ${this.settings.buttonup_class || ''}\" data-touchspin-injected=\"up\" type=\"button\">${this.settings.buttonup_txt || '+'}</button>\n            <button tabindex=\"-1\" class=\"inline-flex items-center justify-center px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border border-t-0 border-gray-300 rounded-b tailwind-btn bootstrap-touchspin-down ${this.settings.buttondown_class || ''}\" data-touchspin-injected=\"down\" type=\"button\">${this.settings.buttondown_txt || '-'}</button>\n          </div>\n          <span class=\"inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon\" data-touchspin-injected=\"postfix\">${this.settings.postfix || ''}</span>\n        </div>\n      `;\n    } else {\n      html = `\n        <div class=\"flex rounded-md shadow-sm border border-gray-300 bootstrap-touchspin focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 has-[:disabled]:opacity-60 has-[:disabled]:bg-gray-50 has-[:read-only]:bg-gray-50\" data-touchspin-injected=\"wrapper\">\n          <button tabindex=\"-1\" class=\"inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 rounded-l-md tailwind-btn bootstrap-touchspin-down ${this.settings.buttondown_class || ''}\" data-touchspin-injected=\"down\" type=\"button\">${this.settings.buttondown_txt || '-'}</button>\n          <span class=\"inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon\" data-touchspin-injected=\"prefix\">${this.settings.prefix || ''}</span>\n          <span class=\"inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon\" data-touchspin-injected=\"postfix\">${this.settings.postfix || ''}</span>\n          <button tabindex=\"-1\" class=\"inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 rounded-r-md tailwind-btn bootstrap-touchspin-up ${this.settings.buttonup_class || ''}\" data-touchspin-injected=\"up\" type=\"button\">${this.settings.buttonup_txt || '+'}</button>\n        </div>\n      `;\n    }\n    \n    // Create wrapper and wrap the input\n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = html.trim();\n    const wrapper = tempDiv.firstChild;\n    \n    // Insert wrapper and move input into it\n    this.input.parentElement.insertBefore(wrapper, this.input);\n    \n    // Find the position to insert input (after prefix, before postfix)\n    const prefixEl = wrapper.querySelector('[data-touchspin-injected=\"prefix\"]');\n    if (prefixEl) {\n      wrapper.insertBefore(this.input, prefixEl.nextSibling);\n    } else {\n      const postfixEl = wrapper.querySelector('[data-touchspin-injected=\"postfix\"]');\n      wrapper.insertBefore(this.input, postfixEl);\n    }\n    \n    // Apply input styling\n    this.input.className = this.input.className.replace('form-control', '');\n    this.input.classList.add('flex-1', 'px-3', 'py-2', 'border-0', 'bg-transparent', 'focus:outline-none', 'text-gray-900', 'placeholder-gray-500');\n    \n    // Apply size classes\n    this._applySizeClasses(wrapper);\n    \n    // Hide empty prefix/postfix\n    this.hideEmptyPrefixPostfix(wrapper);\n    \n    return wrapper;\n  }\n\n  buildAdvancedInputGroup(existingContainer) {\n    // Add bootstrap-touchspin class to existing container\n    existingContainer.classList.add('bootstrap-touchspin');\n    existingContainer.setAttribute('data-touchspin-injected', 'wrapper-advanced');\n    \n    const isVertical = this.settings.verticalbuttons;\n    \n    // Create elements HTML\n    let elementsHtml;\n    if (isVertical) {\n      elementsHtml = `\n        <span class=\"inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon\" data-touchspin-injected=\"prefix\">${this.settings.prefix || ''}</span>\n        <div class=\"flex flex-col ml-1 bootstrap-touchspin-vertical-button-wrapper\" data-touchspin-injected=\"vertical-wrapper\">\n          <button tabindex=\"-1\" class=\"inline-flex items-center justify-center px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border border-gray-300 rounded-t tailwind-btn bootstrap-touchspin-up ${this.settings.buttonup_class || ''}\" data-touchspin-injected=\"up\" type=\"button\">${this.settings.buttonup_txt || '+'}</button>\n          <button tabindex=\"-1\" class=\"inline-flex items-center justify-center px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border border-t-0 border-gray-300 rounded-b tailwind-btn bootstrap-touchspin-down ${this.settings.buttondown_class || ''}\" data-touchspin-injected=\"down\" type=\"button\">${this.settings.buttondown_txt || '-'}</button>\n        </div>\n        <span class=\"inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon\" data-touchspin-injected=\"postfix\">${this.settings.postfix || ''}</span>\n      `;\n    } else {\n      elementsHtml = `\n        <span class=\"inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon\" data-touchspin-injected=\"prefix\">${this.settings.prefix || ''}</span>\n        <button tabindex=\"-1\" class=\"inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 tailwind-btn bootstrap-touchspin-down ${this.settings.buttondown_class || ''}\" data-touchspin-injected=\"down\" type=\"button\">${this.settings.buttondown_txt || '-'}</button>\n        <button tabindex=\"-1\" class=\"inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 tailwind-btn bootstrap-touchspin-up ${this.settings.buttonup_class || ''}\" data-touchspin-injected=\"up\" type=\"button\">${this.settings.buttonup_txt || '+'}</button>\n        <span class=\"inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon\" data-touchspin-injected=\"postfix\">${this.settings.postfix || ''}</span>\n      `;\n    }\n    \n    const tempDiv = document.createElement('div');\n    tempDiv.innerHTML = elementsHtml;\n    \n    // Insert prefix before the input\n    const prefixEl = tempDiv.querySelector('[data-touchspin-injected=\"prefix\"]');\n    existingContainer.insertBefore(prefixEl, this.input);\n    \n    if (isVertical) {\n      // Insert vertical button wrapper after the input\n      const verticalWrapper = tempDiv.querySelector('[data-touchspin-injected=\"vertical-wrapper\"]');\n      existingContainer.insertBefore(verticalWrapper, this.input.nextSibling);\n    } else {\n      // Insert down button before the input\n      const downButton = tempDiv.querySelector('[data-touchspin-injected=\"down\"]');\n      existingContainer.insertBefore(downButton, this.input);\n      \n      // Insert up button after the input\n      const upButton = tempDiv.querySelector('[data-touchspin-injected=\"up\"]');\n      existingContainer.insertBefore(upButton, this.input.nextSibling);\n    }\n    \n    // Insert postfix after everything\n    const postfixEl = tempDiv.querySelector('[data-touchspin-injected=\"postfix\"]');\n    existingContainer.appendChild(postfixEl);\n    \n    // Apply input styling\n    this.input.className = this.input.className.replace('form-control', '');\n    this.input.classList.add('flex-1', 'px-3', 'py-2', 'border-0', 'bg-transparent', 'focus:outline-none', 'text-gray-900', 'placeholder-gray-500');\n    \n    // Apply size classes\n    this._applySizeClasses(existingContainer);\n    \n    // Hide empty prefix/postfix\n    this.hideEmptyPrefixPostfix(existingContainer);\n    \n    return existingContainer;\n  }\n\n  _detectInputSize() {\n    const classList = this.input.className;\n    if (classList.includes('text-sm') || classList.includes('py-1')) {\n      return 'text-sm py-1 px-2';\n    } else if (classList.includes('text-lg') || classList.includes('py-3')) {\n      return 'text-lg py-3 px-4';\n    }\n    return 'text-base py-2 px-3';\n  }\n\n  _applySizeClasses(wrapper = this.wrapper) {\n    const s = this._detectInputSize();\n    if (s.includes('text-sm')) {\n      wrapper.classList.add('text-sm');\n      wrapper.querySelectorAll('.tailwind-btn').forEach(btn => {\n        btn.classList.add('py-1', 'px-2', 'text-sm');\n      });\n      wrapper.querySelectorAll('.tailwind-addon').forEach(addon => {\n        addon.classList.add('py-1', 'px-2', 'text-sm');\n      });\n    } else if (s.includes('text-lg')) {\n      wrapper.classList.add('text-lg');\n      wrapper.querySelectorAll('.tailwind-btn').forEach(btn => {\n        btn.classList.add('py-3', 'px-4', 'text-lg');\n      });\n      wrapper.querySelectorAll('.tailwind-addon').forEach(addon => {\n        addon.classList.add('py-3', 'px-4', 'text-lg');\n      });\n    }\n  }\n\n  hideEmptyPrefixPostfix(wrapper = this.wrapper) {\n    const prefixEl = wrapper.querySelector('[data-touchspin-injected=\"prefix\"]');\n    const postfixEl = wrapper.querySelector('[data-touchspin-injected=\"postfix\"]');\n    \n    if (prefixEl && (!this.settings.prefix || this.settings.prefix === '')) {\n      prefixEl.remove();\n    }\n    if (postfixEl && (!this.settings.postfix || this.settings.postfix === '')) {\n      postfixEl.remove();\n    }\n  }\n\n  updatePrefix(value) {\n    let prefixEl = this.wrapper.querySelector('[data-touchspin-injected=\"prefix\"]');\n    \n    if (value && value !== '') {\n      if (!prefixEl) {\n        // Re-create prefix element if it was removed\n        prefixEl = document.createElement('span');\n        prefixEl.className = 'inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon';\n        prefixEl.setAttribute('data-touchspin-injected', 'prefix');\n        prefixEl.textContent = value;\n        // Insert at the beginning of the wrapper\n        this.wrapper.insertBefore(prefixEl, this.wrapper.firstChild);\n      } else {\n        prefixEl.textContent = value;\n      }\n    } else if (prefixEl) {\n      // Remove element if value is empty\n      prefixEl.remove();\n    }\n  }\n  \n  updatePostfix(value) {\n    let postfixEl = this.wrapper.querySelector('[data-touchspin-injected=\"postfix\"]');\n    \n    if (value && value !== '') {\n      if (!postfixEl) {\n        // Re-create postfix element if it was removed\n        postfixEl = document.createElement('span');\n        postfixEl.className = 'inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon';\n        postfixEl.setAttribute('data-touchspin-injected', 'postfix');\n        postfixEl.textContent = value;\n        // Insert at the end of the wrapper\n        this.wrapper.appendChild(postfixEl);\n      } else {\n        postfixEl.textContent = value;\n      }\n    } else if (postfixEl) {\n      // Remove element if value is empty\n      postfixEl.remove();\n    }\n  }\n  \n  updateButtonClass(type, className) {\n    const button = this.wrapper.querySelector(`[data-touchspin-injected=\"${type}\"]`);\n    if (button) {\n      // Remove old custom classes and add new ones\n      const baseClasses = 'inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 tailwind-btn';\n      const directionalClass = type === 'up' ? 'bootstrap-touchspin-up' : 'bootstrap-touchspin-down';\n      button.className = `${baseClasses} ${directionalClass} ${className || ''}`;\n    }\n  }\n\n}\n\nexport default TailwindRenderer;\n","// @ts-check\nimport { TouchSpin, getTouchSpin, CORE_EVENTS } from '../../core/src/index.js';\n\n/**\n * Install a minimal jQuery plugin wrapper that just forwards everything to core.\n * Contains NO logic - only forwards commands and events.\n * Core manages its own instance lifecycle on the input element.\n * @param {import('jquery').JQueryStatic} $\n */\nexport function installJqueryTouchSpin($) {\n  $.fn.TouchSpin = function(options, arg) {\n    // Command API - forward to core (core manages instance lifecycle)\n    if (typeof options === 'string') {\n      const cmd = String(options).toLowerCase();\n      let ret;\n      this.each(function() {\n        const inputEl = /** @type {HTMLInputElement} */ (this);\n        const api = getTouchSpin(inputEl);\n        \n        // Handle get/getvalue specially - fall back to raw input value if no instance\n        if ((cmd === 'getvalue' || cmd === 'get') && ret === undefined) {\n          if (api) {\n            ret = api.getValue();\n          } else {\n            // No TouchSpin instance - return raw input value\n            ret = inputEl.value;\n          }\n          return; // Skip other commands if no instance\n        }\n        \n        if (!api) return; // No instance exists - other commands ignored\n        \n        switch (cmd) {\n          case 'destroy': api.destroy(); break; // Core removes instance from element\n          case 'uponce': api.upOnce(); break;\n          case 'downonce': api.downOnce(); break;\n          case 'startupspin': api.startUpSpin(); break;\n          case 'startdownspin': api.startDownSpin(); break;\n          case 'stopspin': api.stopSpin(); break;\n          case 'updatesettings': api.updateSettings(arg || {}); break;\n          case 'setvalue': case 'set': api.setValue(arg); break;\n        }\n      });\n      return ret === undefined ? this : ret;\n    }\n\n    // Initialize - forward to core\n    return this.each(function() {\n      const $input = $(this);\n      const inputEl = /** @type {HTMLInputElement} */ (this);\n      \n      // Create TouchSpin instance (core handles everything including storage on element)\n      const inst = TouchSpin(inputEl, options || {});\n\n      // Bridge core events to jQuery events (minimal event forwarding only)\n      const evMap = {\n        [CORE_EVENTS.MIN]: 'touchspin.on.min',\n        [CORE_EVENTS.MAX]: 'touchspin.on.max',\n        [CORE_EVENTS.START_SPIN]: 'touchspin.on.startspin',\n        [CORE_EVENTS.START_UP]: 'touchspin.on.startupspin',\n        [CORE_EVENTS.START_DOWN]: 'touchspin.on.startdownspin',\n        [CORE_EVENTS.STOP_SPIN]: 'touchspin.on.stopspin',\n        [CORE_EVENTS.STOP_UP]: 'touchspin.on.stopupspin',\n        [CORE_EVENTS.STOP_DOWN]: 'touchspin.on.stopdownspin',\n      };\n      \n      // Store unsubscribe functions for cleanup\n      const unsubs = [];\n      Object.keys(evMap).forEach(k => {\n        // @ts-ignore\n        unsubs.push(inst.on(k, () => $input.trigger(evMap[k])));\n      });\n\n      // Define jQuery teardown function that cleans up jQuery-specific resources\n      const jqueryTeardown = () => {\n        // Clean up event subscriptions to core\n        unsubs.forEach(unsub => {\n          try { unsub(); } catch {} \n        });\n        // Clean up jQuery events\n        $input.off('touchspin.uponce touchspin.downonce touchspin.startupspin touchspin.startdownspin touchspin.stopspin touchspin.updatesettings touchspin.destroy');\n      };\n\n      // Register teardown with core so it's called on core destroy too\n      inst.registerTeardown(jqueryTeardown);\n\n      // Callable events - forward to core (core manages lifecycle)\n      $input.on('touchspin.uponce', () => {\n        const api = getTouchSpin(inputEl);\n        if (api) api.upOnce();\n      });\n      $input.on('touchspin.downonce', () => {\n        const api = getTouchSpin(inputEl);\n        if (api) api.downOnce();\n      });\n      $input.on('touchspin.startupspin', () => {\n        const api = getTouchSpin(inputEl);\n        if (api) api.startUpSpin();\n      });\n      $input.on('touchspin.startdownspin', () => {\n        const api = getTouchSpin(inputEl);\n        if (api) api.startDownSpin();\n      });\n      $input.on('touchspin.stopspin', () => {\n        const api = getTouchSpin(inputEl);\n        if (api) api.stopSpin();\n      });\n      $input.on('touchspin.updatesettings', (e, o) => {\n        const api = getTouchSpin(inputEl);\n        if (api) api.updateSettings(o || {});\n      });\n      $input.on('touchspin.destroy', () => {\n        // Forward destroy to core (core will call registered teardown callbacks)\n        const api = getTouchSpin(inputEl);\n        if (api) api.destroy();\n      });\n    });\n  };\n}","// jQuery Tailwind build entry point\nimport { TouchSpinCore, getTouchSpin } from '../../packages/core/src/index.js';\nimport TailwindRenderer from '../../packages/renderers/tailwind/src/TailwindRenderer.js';\nimport { installJqueryTouchSpin } from '../../packages/jquery-plugin/src/index.js';\n\n// Wrapper function for standalone use (when jQuery is not available)\nfunction TouchSpin(element, options = {}) {\n  if (!(element instanceof Element)) {\n    throw new TypeError('TouchSpin expects an HTMLElement');\n  }\n  \n  // Set the baked-in renderer for this build\n  options.renderer = options.renderer || TailwindRenderer;\n  \n  // Use core directly\n  if (element._touchSpinCore) {\n    element._touchSpinCore.destroy();\n  }\n  \n  const core = new TouchSpinCore(element, options);\n  element._touchSpinCore = core;\n  core.initDOMEventHandling();\n  \n  return core.toPublicApi();\n}\n\n// Install jQuery plugin if jQuery is available\nif (typeof window !== 'undefined' && window.jQuery) {\n  installJqueryTouchSpin(window.jQuery);\n}\n\n// For jQuery builds, ensure globals are properly exposed for direct access\nif (typeof window !== 'undefined') {\n  window.TouchSpin = TouchSpin;\n  window.TouchSpinCore = TouchSpinCore;\n  window.getTouchSpin = getTouchSpin;\n  window.TailwindRenderer = TailwindRenderer;\n  window.installJqueryTouchSpin = installJqueryTouchSpin;\n}\n\n// Export for module systems only (no default export)\nexport { TouchSpin, TouchSpinCore, getTouchSpin, TailwindRenderer, installJqueryTouchSpin };"],"names":["AbstractRenderer","inputEl","settings","core","_classCallCheck","input","wrapper","$","originalinput","container","elements","_createClass","key","value","init","Error","teardown","removeInjectedElements","_this","injected","querySelectorAll","forEach","el","remove","hasAttribute","parentElement","injectedType","getAttribute","classList","removeAttribute","parent","insertBefore","allInjected","document","_this$input$parentEle","contains","getFrameworkId","getDefaultSettings","buildAdvancedInputGroup","parentelement","buildInputGroup","buildVerticalButtons","initElements","downButtons","_findElements","upButtons","length","verticalContainer","attr","down","up","prefix","addClass","prefix_extraclass","postfix","postfix_extraclass","role","concat","hideEmptyPrefixPostfix","detached","_detached_prefix","detach","_detached_postfix","updatePrefixPostfix","newsettings","getWrapperTestId","inputTestId","DEFAULTS","min","max","firstclickvalueifempty","step","decimals","forcestepdivisibility","stepinterval","stepintervaldelay","booster","boostat","maxboostedstep","callback_before_calculation","v","callback_after_calculation","INSTANCE_KEY","TouchSpinCore","opts","arguments","undefined","nodeName","Object","assign","renderer","spinning","spincount","direction","_events","Map","_teardownCallbacks","_settingObservers","_spinDelayTimeout","_spinIntervalTimer","_upButton","_downButton","_wrapper","_handleUpMouseDown","bind","_handleDownMouseDown","_handleMouseUp","_handleInputChange","_handleKeyDown","_handleKeyUp","_handleWheel","_initializeInput","_updateAriaAttributes","_checkValue","upOnce","disabled","getValue","next","_nextValue","prevNum","_setDisplay","isFinite","emit","stopSpin","downOnce","startUpSpin","_startSpin","startDownSpin","_clearSpinTimers","updateSettings","oldSettings","_objectSpread","newSettings","Number","_alignToStep","keys","observers","get","callback","error","console","raw","NaN","before","num","parseFloat","String","isNaN","setValue","parsed","adjusted","_applyConstraints","initDOMEventHandling","_findDOMElements","_attachDOMEventListeners","registerTeardown","_this2","push","index","indexOf","splice","destroy","_detachDOMEventListeners","clear","toPublicApi","on","off","attachUpEvents","attachDownEvents","observeSetting","element","warn","addEventListener","passive","settingName","has","set","Set","add","delete","event","handler","_this3","size","detail","_i","_arr","_toConsumableArray","fn","_","dir","_this4","changed","delay","interval","setTimeout","setInterval","_spinStep","clearTimeout","_unused","clearInterval","_unused2","current","_valueIfIsNaN","base","Math","parseInt","stepUnclamped","pow","floor","mbs","round","aligned","_forcestepdivisibility","clamped","_getBoostedStep","boosted","cap","val","mode","dec","out","ceil","toFixed","k","s","V","S","r","mayTriggerChange","_this$input$value","prev","_formatDisplay","dispatchEvent","Event","bubbles","after","setAttribute","removeEventListener","e","preventDefault","activeElement","deltaY","TouchSpin","getTouchSpin","CORE_EVENTS","freeze","MIN","MAX","START_SPIN","START_UP","START_DOWN","STOP_SPIN","STOP_UP","STOP_DOWN","TailwindRenderer","_AbstractRenderer","_callSuper","_inherits","upButton","querySelector","downButton","newValue","updatePrefix","updatePostfix","updateButtonClass","existingContainer","closest","buildBasicInputGroup","_detectInputSize","isVertical","verticalbuttons","html","buttonup_class","buttonup_txt","buttondown_class","buttondown_txt","tempDiv","createElement","innerHTML","trim","firstChild","prefixEl","nextSibling","postfixEl","className","replace","_applySizeClasses","elementsHtml","verticalWrapper","appendChild","includes","btn","addon","textContent","type","button","baseClasses","directionalClass","installJqueryTouchSpin","options","arg","cmd","toLowerCase","ret","each","api","$input","inst","evMap","_defineProperty","unsubs","trigger","jqueryTeardown","unsub","o","Element","TypeError","_touchSpinCore","window","jQuery"],"mappings":"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"}