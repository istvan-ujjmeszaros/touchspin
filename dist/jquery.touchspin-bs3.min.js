/*
 *  Bootstrap Touchspin - v4.8.0
 *  A mobile and touch friendly input spinner component for Bootstrap 3, 4 & 5.
 *  https://www.virtuosoft.eu/code/bootstrap-touchspin/
 *
 *  Made by István Ujj-Mészáros
 *  Under MIT License
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).TouchSpin={})}(this,function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function n(t,e,n){return e=o(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,n||[],o(t).constructor):e.apply(t,n))}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e,n){return e&&function(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,h(i.key),i)}}(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(){return a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(t,e,n){var i=function(t,e){for(;!{}.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(i){var s=Object.getOwnPropertyDescriptor(i,e);return s.get?s.get.call(arguments.length<3?t:n):s.value}},a.apply(null,arguments)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}function l(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}var d={min:0,max:100,initval:"",replacementval:"",firstclickvalueifempty:null,step:1,decimals:0,forcestepdivisibility:"round",stepinterval:100,stepintervaldelay:500,verticalbuttons:!1,verticalup:"+",verticaldown:"-",verticalupclass:null,verticaldownclass:null,prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttonup_class:null,buttondown_class:null,buttonup_txt:"+",buttondown_txt:"-",callback_before_calculation:function(t){return t},callback_after_calculation:function(t){return t}},f="_touchSpinCore",v=function(){return s(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),!e||"INPUT"!==e.nodeName)throw new Error("TouchSpinCore requires an <input> element");this.input=e,this.settings=Object.assign({},d,n),this.settings.renderer||("undefined"!=typeof globalThis&&globalThis.TouchSpinDefaultRenderer?this.settings.renderer=globalThis.TouchSpinDefaultRenderer:console.warn("TouchSpin: No renderer specified (renderer: null). Only keyboard/wheel events will work. Consider using Bootstrap3/4/5Renderer or TailwindRenderer for UI.")),this.spinning=!1,this.spincount=0,this.direction=!1,this._events=new Map,this._teardownCallbacks=[],this._settingObservers=new Map,this._spinDelayTimeout=null,this._spinIntervalTimer=null,this._upButton=null,this._downButton=null,this._wrapper=null,this._handleUpMouseDown=this._handleUpMouseDown.bind(this),this._handleDownMouseDown=this._handleDownMouseDown.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleInputChange=this._handleInputChange.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this._handleKeyUp=this._handleKeyUp.bind(this),this._handleWheel=this._handleWheel.bind(this),this._initializeInput(),this.settings.renderer&&(this.renderer=new this.settings.renderer(e,this.settings,this),this.renderer.init()),this._setupMutationObserver()},[{key:"_initializeInput",value:function(){""!==this.settings.initval&&""===this.input.value&&(this.input.value=this.settings.initval),this._updateAriaAttributes(),this._checkValue(!1)}},{key:"upOnce",value:function(){if(!this.input.disabled&&!this.input.hasAttribute("readonly")){var t=this.getValue(),e=this._nextValue("up",t),n=t;this._setDisplay(e,!0),isFinite(n)&&e!==n&&(null!=this.settings.max&&e===this.settings.max&&this.emit("max"),null!=this.settings.min&&e===this.settings.min&&this.emit("min")),this.spinning&&"up"===this.direction&&null!=this.settings.max&&e===this.settings.max&&this.stopSpin()}}},{key:"downOnce",value:function(){if(!this.input.disabled&&!this.input.hasAttribute("readonly")){var t=this.getValue(),e=this._nextValue("down",t),n=t;this._setDisplay(e,!0),isFinite(n)&&e!==n&&(null!=this.settings.max&&e===this.settings.max&&this.emit("max"),null!=this.settings.min&&e===this.settings.min&&this.emit("min")),this.spinning&&"down"===this.direction&&null!=this.settings.min&&e===this.settings.min&&this.stopSpin()}}},{key:"startUpSpin",value:function(){this._startSpin("up")}},{key:"startDownSpin",value:function(){this._startSpin("down")}},{key:"stopSpin",value:function(){this._clearSpinTimers(),this.spinning&&("up"===this.direction?(this.emit("stopupspin"),this.emit("stopspin")):"down"===this.direction&&(this.emit("stopdownspin"),this.emit("stopspin"))),this.spinning=!1,this.direction=!1,this.spincount=0}},{key:"updateSettings",value:function(t){var e=this,n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach(function(e){r(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({},this.settings),i=t||{};this.settings=Object.assign({},this.settings,i);var s=Number(this.settings.step||1);void 0===i.step&&void 0===i.min&&void 0===i.max||1===s||(null!=this.settings.max&&(this.settings.max=this._alignToStep(Number(this.settings.max),s,"down")),null!=this.settings.min&&(this.settings.min=this._alignToStep(Number(this.settings.min),s,"up"))),Object.keys(i).forEach(function(t){if(n[t]!==i[t]){var s=e._settingObservers.get(t);s&&s.forEach(function(e){try{e(i[t],n[t])}catch(t){console.error("TouchSpin: Error in setting observer callback:",t)}})}}),this._updateAriaAttributes(),this._checkValue(!1)}},{key:"getValue",value:function(){var t=this.input.value;if(""===t&&""!==this.settings.replacementval&&(t=this.settings.replacementval),""===t)return NaN;var e=this.settings.callback_before_calculation||function(t){return t},n=parseFloat(e(String(t)));return isNaN(n)?NaN:n}},{key:"setValue",value:function(t){if(!this.input.disabled&&!this.input.hasAttribute("readonly")){var e=Number(t);if(isFinite(e)){var n=this._applyConstraints(e);this._setDisplay(n,!0)}}}},{key:"initDOMEventHandling",value:function(){this._findDOMElements(),this._attachDOMEventListeners()}},{key:"registerTeardown",value:function(t){var e=this;if("function"!=typeof t)throw new Error("Teardown callback must be a function");return this._teardownCallbacks.push(t),function(){var n=e._teardownCallbacks.indexOf(t);n>-1&&e._teardownCallbacks.splice(n,1)}}},{key:"destroy",value:function(){this.stopSpin(),this.renderer&&this.renderer.teardown&&this.renderer.teardown(),this._detachDOMEventListeners(),this._teardownCallbacks.forEach(function(t){try{t()}catch(t){console.error("TouchSpin teardown callback error:",t)}}),this._teardownCallbacks.length=0,this._settingObservers.clear(),this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null),this._upButton=null,this._downButton=null,this.input[f]===this&&delete this.input[f]}},{key:"toPublicApi",value:function(){return{upOnce:this.upOnce.bind(this),downOnce:this.downOnce.bind(this),startUpSpin:this.startUpSpin.bind(this),startDownSpin:this.startDownSpin.bind(this),stopSpin:this.stopSpin.bind(this),updateSettings:this.updateSettings.bind(this),getValue:this.getValue.bind(this),setValue:this.setValue.bind(this),destroy:this.destroy.bind(this),on:this.on.bind(this),off:this.off.bind(this),initDOMEventHandling:this.initDOMEventHandling.bind(this),registerTeardown:this.registerTeardown.bind(this),attachUpEvents:this.attachUpEvents.bind(this),attachDownEvents:this.attachDownEvents.bind(this),observeSetting:this.observeSetting.bind(this)}}},{key:"attachUpEvents",value:function(t){t?(this._upButton=t,t.addEventListener("mousedown",this._handleUpMouseDown),t.addEventListener("touchstart",this._handleUpMouseDown,{passive:!1}),this._updateButtonDisabledState()):console.warn("TouchSpin: attachUpEvents called with null element")}},{key:"attachDownEvents",value:function(t){t?(this._downButton=t,t.addEventListener("mousedown",this._handleDownMouseDown),t.addEventListener("touchstart",this._handleDownMouseDown,{passive:!1}),this._updateButtonDisabledState()):console.warn("TouchSpin: attachDownEvents called with null element")}},{key:"observeSetting",value:function(t,e){this._settingObservers.has(t)||this._settingObservers.set(t,new Set);var n=this._settingObservers.get(t);return n.add(e),function(){return n.delete(e)}}},{key:"on",value:function(t,e){var n=this,i=this._events.get(t)||new Set;return i.add(e),this._events.set(t,i),function(){return n.off(t,e)}}},{key:"off",value:function(t,e){var n=this._events.get(t);n&&(e?(n.delete(e),0===n.size&&this._events.delete(t)):this._events.delete(t))}},{key:"emit",value:function(t,e){var n=this._events.get(t);if(n&&0!==n.size)for(var i=0,s=l(n);i<s.length;i++){var r=s[i];try{r(e)}catch(t){}}}},{key:"_startSpin",value:function(t){var e=this;if(!this.input.disabled&&!this.input.hasAttribute("readonly")){(!this.spinning||this.direction!==t)&&(this.spinning=!0,this.direction=t,this.spincount=0,this.emit("startspin"),"up"===t?this.emit("startupspin"):this.emit("startdownspin")),this._clearSpinTimers();var n=this.settings.stepintervaldelay||500,i=this.settings.stepinterval||100;this._spinDelayTimeout=setTimeout(function(){e._spinDelayTimeout=null,e._spinIntervalTimer=setInterval(function(){e.spinning&&e.direction===t&&e._spinStep(t)},i)},n)}}},{key:"_clearSpinTimers",value:function(){try{this._spinDelayTimeout&&clearTimeout(this._spinDelayTimeout)}catch(t){}try{this._spinIntervalTimer&&clearInterval(this._spinIntervalTimer)}catch(t){}this._spinDelayTimeout=null,this._spinIntervalTimer=null}},{key:"_nextValue",value:function(t,e){var n=e;if(isNaN(n))n=this._valueIfIsNaN();else{var i=this.settings.step||1,s=Math.max(1,parseInt(String(this.settings.boostat||10),10)),r=Math.pow(2,Math.floor(this.spincount/s))*i,a=this.settings.maxboostedstep,o=r;a&&isFinite(a)&&r>Number(a)&&(o=Number(a),n=Math.round(n/o)*o),o=Math.max(i,o),n="up"===t?n+o:n-o}return this._applyConstraints(n)}},{key:"_valueIfIsNaN",value:function(){if("number"==typeof this.settings.firstclickvalueifempty)return this.settings.firstclickvalueifempty;var t="number"==typeof this.settings.min?this.settings.min:0;return(t+("number"==typeof this.settings.max?this.settings.max:t))/2}},{key:"_applyConstraints",value:function(t){var e=this._forcestepdivisibility(t),n=this.settings.min,i=this.settings.max,s=e;return null!=n&&s<n&&(s=n),null!=i&&s>i&&(s=i),s}},{key:"_getBoostedStep",value:function(){var t=this.settings.step||1;if(!this.settings.booster)return t;var e=Math.max(1,parseInt(String(this.settings.boostat||10),10)),n=Math.pow(2,Math.floor(this.spincount/e))*t,i=this.settings.maxboostedstep;if(i&&isFinite(i)){var s=Number(i);n>s&&(n=s)}return Math.max(t,n)}},{key:"_forcestepdivisibility",value:function(t){var e,n=this.settings.forcestepdivisibility||"round",i=this.settings.step||1,s=this.settings.decimals||0;switch(n){case"floor":e=Math.floor(t/i)*i;break;case"ceil":e=Math.ceil(t/i)*i;break;case"none":e=t;break;default:e=Math.round(t/i)*i}return Number(e.toFixed(s))}},{key:"_alignToStep",value:function(t,e,n){if(0===e)return t;for(var i=1,s=e;s*i%1!=0&&i<1e6;)i*=10;var r=Math.round(t*i),a=Math.round(e*i),o=r%a;return 0===o?t:("down"===n?r-o:r+(a-o))/i}},{key:"_setDisplay",value:function(t,e){var n,i=String(null!==(n=this.input.value)&&void 0!==n?n:""),s=this._formatDisplay(t);return this.input.value=s,this._updateAriaAttributes(),e&&i!==s&&this.input.dispatchEvent(new Event("change",{bubbles:!0})),s}},{key:"_formatDisplay",value:function(t){var e=this.settings.decimals||0;return(this.settings.callback_after_calculation||function(t){return t})(Number(t).toFixed(e))}},{key:"_spinStep",value:function(t){this.spincount++,"up"===t?this.upOnce():this.downOnce()}},{key:"_checkValue",value:function(t){var e=this.getValue();if(isFinite(e)){var n=this._applyConstraints(e);this._setDisplay(n,!!t)}}},{key:"_updateAriaAttributes",value:function(){var t=this.input;"spinbutton"!==t.getAttribute("role")&&t.setAttribute("role","spinbutton");var e=this.settings.min,n=this.settings.max;null!=e?t.setAttribute("aria-valuemin",String(e)):t.removeAttribute("aria-valuemin"),null!=n?t.setAttribute("aria-valuemax",String(n)):t.removeAttribute("aria-valuemax");var i=t.value,s=this.settings.callback_before_calculation||function(t){return t},r=parseFloat(s(String(i)));isFinite(r)?t.setAttribute("aria-valuenow",String(r)):t.removeAttribute("aria-valuenow"),t.setAttribute("aria-valuetext",String(i))}},{key:"_findDOMElements",value:function(){for(var t=this.input.parentElement;t&&!t.hasAttribute("data-touchspin-injected");)t=t.parentElement;this._wrapper=t}},{key:"_attachDOMEventListeners",value:function(){document.addEventListener("mouseup",this._handleMouseUp),document.addEventListener("mouseleave",this._handleMouseUp),document.addEventListener("touchend",this._handleMouseUp),this.input.addEventListener("input",this._handleInputChange),this.input.addEventListener("change",this._handleInputChange),this.input.addEventListener("keydown",this._handleKeyDown),this.input.addEventListener("keyup",this._handleKeyUp),this.input.addEventListener("wheel",this._handleWheel)}},{key:"_detachDOMEventListeners",value:function(){document.removeEventListener("mouseup",this._handleMouseUp),document.removeEventListener("mouseleave",this._handleMouseUp),document.removeEventListener("touchend",this._handleMouseUp),this.input.removeEventListener("input",this._handleInputChange),this.input.removeEventListener("change",this._handleInputChange),this.input.removeEventListener("keydown",this._handleKeyDown),this.input.removeEventListener("keyup",this._handleKeyUp),this.input.removeEventListener("wheel",this._handleWheel)}},{key:"_handleUpMouseDown",value:function(t){t.preventDefault(),this.upOnce(),this.startUpSpin()}},{key:"_handleDownMouseDown",value:function(t){t.preventDefault(),this.downOnce(),this.startDownSpin()}},{key:"_handleMouseUp",value:function(t){this.stopSpin()}},{key:"_handleInputChange",value:function(t){this._checkValue(!0)}},{key:"_handleKeyDown",value:function(t){switch(t.key){case"ArrowUp":t.preventDefault(),this.upOnce(),this.startUpSpin();break;case"ArrowDown":t.preventDefault(),this.downOnce(),this.startDownSpin();break;case"Enter":this._checkValue(!0)}}},{key:"_handleKeyUp",value:function(t){"ArrowUp"!==t.key&&"ArrowDown"!==t.key||this.stopSpin()}},{key:"_handleWheel",value:function(t){this.settings.mousewheel&&document.activeElement===this.input&&(t.preventDefault(),t.deltaY<0?this.upOnce():t.deltaY>0&&this.downOnce())}},{key:"_setupMutationObserver",value:function(){var t=this;"undefined"!=typeof MutationObserver&&(this._mutationObserver=new MutationObserver(function(e){e.forEach(function(e){"attributes"===e.type&&("disabled"!==e.attributeName&&"readonly"!==e.attributeName||t._updateButtonDisabledState())})}),this._mutationObserver.observe(this.input,{attributes:!0,attributeFilter:["disabled","readonly"]}))}},{key:"_updateButtonDisabledState",value:function(){var t=this.input.disabled||this.input.hasAttribute("readonly");this._upButton&&(this._upButton.disabled=t),this._downButton&&(this._downButton.disabled=t),t&&this.stopSpin()}}])}();function b(t,e){if(void 0!==e){t[f]&&t[f].destroy();var n=new v(t,e);return t[f]=n,n.initDOMEventHandling(),n.toPublicApi()}if(!t[f]){var i=new v(t,{});return t[f]=i,i.initDOMEventHandling(),i.toPublicApi()}return t[f].toPublicApi()}function g(t){return t[f]?t[f].toPublicApi():null}var w=Object.freeze({MIN:"min",MAX:"max",START_SPIN:"startspin",START_UP:"startupspin",START_DOWN:"startdownspin",STOP_SPIN:"stopspin",STOP_UP:"stopupspin",STOP_DOWN:"stopdownspin"}),y=function(t){function e(){return i(this,e),n(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(e,t),s(e,[{key:"init",value:function(){var t=this;this.input.classList.contains("form-control")||(this.input.classList.add("form-control"),this._formControlAdded=!0),this.wrapper=this.buildInputGroup();var e=this.wrapper.querySelector('[data-touchspin-injected="up"]'),n=this.wrapper.querySelector('[data-touchspin-injected="down"]');this.core.attachUpEvents(e),this.core.attachDownEvents(n),this.core.observeSetting("prefix",function(e){return t.updatePrefix(e)}),this.core.observeSetting("postfix",function(e){return t.updatePostfix(e)}),this.core.observeSetting("buttonup_class",function(e){return t.updateButtonClass("up",e)}),this.core.observeSetting("buttondown_class",function(e){return t.updateButtonClass("down",e)}),this.core.observeSetting("verticalupclass",function(e){return t.updateVerticalButtonClass("up",e)}),this.core.observeSetting("verticaldownclass",function(e){return t.updateVerticalButtonClass("down",e)}),this.core.observeSetting("verticalup",function(e){return t.updateVerticalButtonText("up",e)}),this.core.observeSetting("verticaldown",function(e){return t.updateVerticalButtonText("down",e)})}},{key:"teardown",value:function(){var t,n,i;this._formControlAdded&&(this.input.classList.remove("form-control"),this._formControlAdded=!1),(t="teardown",n=this,"function"==typeof(i=a(o(e.prototype),t,n))?function(t){return i.apply(n,t)}:i)([])}},{key:"buildInputGroup",value:function(){var t=this.input.closest(".input-group");return t?this.buildAdvancedInputGroup(t):this.buildBasicInputGroup()}},{key:"buildBasicInputGroup",value:function(){var t,e=this._detectInputGroupSize(),n=this.getWrapperTestId();t=this.settings.verticalbuttons?'\n        <div class="input-group '.concat(e,' bootstrap-touchspin" data-touchspin-injected="wrapper"').concat(n,'>\n          <span class="input-group-addon bootstrap-touchspin-prefix" data-touchspin-injected="prefix">').concat(this.settings.prefix||"",'</span>\n          <span class="input-group-addon bootstrap-touchspin-postfix" data-touchspin-injected="postfix">').concat(this.settings.postfix||"",'</span>\n          <span class="input-group-addon bootstrap-touchspin-vertical-button-wrapper" data-touchspin-injected="vertical-wrapper">\n            ').concat(this.buildVerticalButtons(),"\n          </span>\n        </div>\n      "):'\n        <div class="input-group '.concat(e,' bootstrap-touchspin" data-touchspin-injected="wrapper"').concat(n,'>\n          <span class="input-group-addon bootstrap-touchspin-prefix" data-touchspin-injected="prefix">').concat(this.settings.prefix||"",'</span>\n          <span class="input-group-btn" data-touchspin-injected="down-wrapper">\n            <button tabindex="-1" class="').concat(this.settings.buttondown_class||"btn btn-default",' bootstrap-touchspin-down" data-touchspin-injected="down" type="button" aria-label="Decrease value">').concat(this.settings.buttondown_txt||"−",'</button>\n          </span>\n          <span class="input-group-btn" data-touchspin-injected="up-wrapper">\n            <button tabindex="-1" class="').concat(this.settings.buttonup_class||"btn btn-default",' bootstrap-touchspin-up" data-touchspin-injected="up" type="button" aria-label="Increase value">').concat(this.settings.buttonup_txt||"+",'</button>\n          </span>\n          <span class="input-group-addon bootstrap-touchspin-postfix" data-touchspin-injected="postfix">').concat(this.settings.postfix||"","</span>\n        </div>\n      ");var i=document.createElement("div");i.innerHTML=t.trim();var s=i.firstChild;if(this.input.parentElement.insertBefore(s,this.input),this.settings.verticalbuttons){var r=s.querySelector('[data-touchspin-injected="prefix"]');s.insertBefore(this.input,r.nextSibling)}else{var a=s.querySelector('.input-group-btn:has([data-touchspin-injected="up"])')||s.querySelector('[data-touchspin-injected="up-wrapper"]');s.insertBefore(this.input,a)}return this.hideEmptyPrefixPostfix(s),s}},{key:"buildAdvancedInputGroup",value:function(t){t.classList.add("bootstrap-touchspin"),t.setAttribute("data-touchspin-injected","wrapper-advanced");var e,n=this.input.getAttribute("data-testid");n&&t.setAttribute("data-testid","".concat(n,"-wrapper")),e=this.settings.verticalbuttons?'\n        <span class="input-group-addon bootstrap-touchspin-prefix" data-touchspin-injected="prefix">'.concat(this.settings.prefix||"",'</span>\n        <span class="input-group-addon bootstrap-touchspin-postfix" data-touchspin-injected="postfix">').concat(this.settings.postfix||"",'</span>\n        <span class="input-group-addon bootstrap-touchspin-vertical-button-wrapper" data-touchspin-injected="vertical-wrapper">\n          ').concat(this.buildVerticalButtons(),"\n        </span>\n      "):'\n        <span class="input-group-addon bootstrap-touchspin-prefix" data-touchspin-injected="prefix">'.concat(this.settings.prefix||"",'</span>\n        <span class="input-group-btn" data-touchspin-injected="down-wrapper">\n          <button tabindex="-1" class="').concat(this.settings.buttondown_class||"btn btn-default",' bootstrap-touchspin-down" data-touchspin-injected="down" type="button" aria-label="Decrease value">').concat(this.settings.buttondown_txt||"−",'</button>\n        </span>\n        <span class="input-group-btn" data-touchspin-injected="up-wrapper">\n          <button tabindex="-1" class="').concat(this.settings.buttonup_class||"btn btn-default",' bootstrap-touchspin-up" data-touchspin-injected="up" type="button" aria-label="Increase value">').concat(this.settings.buttonup_txt||"+",'</button>\n        </span>\n        <span class="input-group-addon bootstrap-touchspin-postfix" data-touchspin-injected="postfix">').concat(this.settings.postfix||"","</span>\n      ");var i=document.createElement("div");i.innerHTML=e;var s=i.querySelector('[data-touchspin-injected="prefix"]');if(t.insertBefore(s,this.input),this.settings.verticalbuttons){var r=i.querySelector('[data-touchspin-injected="vertical-wrapper"]');t.insertBefore(r,this.input.nextSibling);var a=i.querySelector('[data-touchspin-injected="postfix"]');t.insertBefore(a,r.nextSibling)}else{var o=i.querySelector('.input-group-btn:has([data-touchspin-injected="down"])')||i.querySelector('[data-touchspin-injected="down-wrapper"]');t.insertBefore(o,this.input);var u=i.querySelector('.input-group-btn:has([data-touchspin-injected="up"])')||i.querySelector('[data-touchspin-injected="up-wrapper"]');t.insertBefore(u,this.input.nextSibling);var p=i.querySelector('[data-touchspin-injected="postfix"]');t.insertBefore(p,u.nextSibling)}return this.hideEmptyPrefixPostfix(t),t}},{key:"_detectInputGroupSize",value:function(){var t=this.input.className;return t.includes("input-sm")?"input-group-sm":t.includes("input-lg")?"input-group-lg":""}},{key:"hideEmptyPrefixPostfix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wrapper,e=t.querySelector('[data-touchspin-injected="prefix"]'),n=t.querySelector('[data-touchspin-injected="postfix"]');!e||this.settings.prefix&&""!==this.settings.prefix||e.remove(),!n||this.settings.postfix&&""!==this.settings.postfix||n.remove()}},{key:"updatePrefix",value:function(t){var e=this.wrapper.querySelector('[data-touchspin-injected="prefix"]');t&&""!==t?e?e.textContent=t:((e=document.createElement("span")).className="input-group-addon bootstrap-touchspin-prefix",e.setAttribute("data-touchspin-injected","prefix"),e.textContent=t,this.wrapper.insertBefore(e,this.wrapper.firstChild)):e&&e.remove()}},{key:"updatePostfix",value:function(t){var e=this.wrapper.querySelector('[data-touchspin-injected="postfix"]');t&&""!==t?e?e.textContent=t:((e=document.createElement("span")).className="input-group-addon bootstrap-touchspin-postfix",e.setAttribute("data-touchspin-injected","postfix"),e.textContent=t,this.wrapper.appendChild(e)):e&&e.remove()}},{key:"updateButtonClass",value:function(t,e){var n=this.wrapper.querySelector('[data-touchspin-injected="'.concat(t,'"]'));n&&(n.className="".concat(e||"btn btn-default"," bootstrap-touchspin-").concat(t))}},{key:"buildVerticalButtons",value:function(){return'\n      <span class="input-group-btn-vertical">\n        <button tabindex="-1" class="'.concat(this.settings.buttonup_class||"btn btn-default"," ").concat(this.settings.verticalupclass||"btn btn-default",' bootstrap-touchspin-up" data-touchspin-injected="up" type="button" aria-label="Increase value">').concat(this.settings.verticalup||"+",'</button>\n        <button tabindex="-1" class="').concat(this.settings.buttondown_class||"btn btn-default"," ").concat(this.settings.verticaldownclass||"btn btn-default",' bootstrap-touchspin-down" data-touchspin-injected="down" type="button" aria-label="Decrease value">').concat(this.settings.verticaldown||"−","</button>\n      </span>\n    ")}},{key:"updateVerticalButtonClass",value:function(t,e){var n=this.wrapper.querySelector('[data-touchspin-injected="vertical-wrapper"]');if(n){var i=n.querySelector('[data-touchspin-injected="'.concat(t,'"]'));if(i){var s=this.settings.buttonup_class||this.settings.buttondown_class||"btn btn-default";i.className="".concat(s," ").concat(e||"btn btn-default"," bootstrap-touchspin-").concat(t)}}}},{key:"updateVerticalButtonText",value:function(t,e){var n=this.wrapper.querySelector('[data-touchspin-injected="vertical-wrapper"]');if(n){var i=n.querySelector('[data-touchspin-injected="'.concat(t,'"]'));i&&(i.textContent=e||("up"===t?"+":"−"))}}}])}(function(){return s(function t(e,n,s){i(this,t),this.input=e,this.settings=n,this.core=s,this.wrapper=null,this.$="undefined"!=typeof $?$:null,this.originalinput=this.$?this.$(e):null,this.container=null,this.elements=null},[{key:"init",value:function(){throw new Error("init() must be implemented by renderer")}},{key:"teardown",value:function(){this.removeInjectedElements()}},{key:"removeInjectedElements",value:function(){var t=this;this.wrapper&&(this.wrapper.querySelectorAll("[data-touchspin-injected]").forEach(function(t){return t.remove()}),this.wrapper.hasAttribute("data-touchspin-injected")&&this.wrapper.parentElement&&("wrapper-advanced"===this.wrapper.getAttribute("data-touchspin-injected")?(this.wrapper.classList.remove("bootstrap-touchspin"),this.wrapper.removeAttribute("data-touchspin-injected")):(this.wrapper.parentElement.insertBefore(this.input,this.wrapper),this.wrapper.remove())));document.querySelectorAll("[data-touchspin-injected]").forEach(function(e){var n;(e.contains(t.input)||e.parentElement&&e.parentElement.contains(t.input)||null!==(n=t.input.parentElement)&&void 0!==n&&n.contains(e))&&e!==t.input&&e.remove()})}},{key:"getFrameworkId",value:function(){throw new Error("getFrameworkId() must be implemented by subclasses")}},{key:"buildAdvancedInputGroup",value:function(t){throw new Error("buildAdvancedInputGroup() must be implemented by subclasses")}},{key:"buildInputGroup",value:function(){throw new Error("buildInputGroup() must be implemented by subclasses")}},{key:"buildVerticalButtons",value:function(){throw new Error("buildVerticalButtons() must be implemented by subclasses")}},{key:"initElements",value:function(t){this.container=t;var e=this._findElements(t,"down"),n=this._findElements(t,"up");if(0===e.length||0===n.length){var i=this._findElements(t.parent(),"vertical-wrapper");i.length>0&&(e=this._findElements(i,"down"),n=this._findElements(i,"up"))}return this.originalinput.attr("data-touchspin-injected","input"),this.elements={down:e,up:n,input:this.$("input",t),prefix:this._findElements(t,"prefix").addClass(this.settings.prefix_extraclass),postfix:this._findElements(t,"postfix").addClass(this.settings.postfix_extraclass)},this.elements}},{key:"_findElements",value:function(t,e){return this.$('[data-touchspin-injected="'.concat(e,'"]'),t)}},{key:"hideEmptyPrefixPostfix",value:function(){var t={};return""===this.settings.prefix&&(t._detached_prefix=this.elements.prefix.detach()),""===this.settings.postfix&&(t._detached_postfix=this.elements.postfix.detach()),t}},{key:"updatePrefixPostfix",value:function(t,e){throw new Error("updatePrefixPostfix() must be implemented by subclasses")}},{key:"getWrapperTestId",value:function(){var t=this.input.getAttribute("data-testid");return t?' data-testid="'.concat(t,'-wrapper"'):""}}])}());function m(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t instanceof Element))throw new TypeError("TouchSpin expects an HTMLElement");return e.renderer=e.renderer||y,b(t,e)}function _(t){t.fn.TouchSpin=function(e,n){if("string"==typeof e){var i,s=String(e).toLowerCase();return this.each(function(){var t=g(this);if("getvalue"!==s&&"get"!==s||void 0!==i){if(t)switch(s){case"destroy":t.destroy();break;case"uponce":t.upOnce();break;case"downonce":t.downOnce();break;case"startupspin":t.startUpSpin();break;case"startdownspin":t.startDownSpin();break;case"stopspin":t.stopSpin();break;case"updatesettings":t.updateSettings(n||{});break;case"setvalue":case"set":t.setValue(n)}}else i=t?t.getValue():this.value}),void 0===i?this:i}return this.each(function(){var n=t(this),i=this,s=e||{};s.renderer=s.renderer||y;var a=b(i,s),o=r(r(r(r(r(r(r(r({},w.MIN,"touchspin.on.min"),w.MAX,"touchspin.on.max"),w.START_SPIN,"touchspin.on.startspin"),w.START_UP,"touchspin.on.startupspin"),w.START_DOWN,"touchspin.on.startdownspin"),w.STOP_SPIN,"touchspin.on.stopspin"),w.STOP_UP,"touchspin.on.stopupspin"),w.STOP_DOWN,"touchspin.on.stopdownspin"),u=[];Object.keys(o).forEach(function(t){u.push(a.on(t,function(){return n.trigger(o[t])}))});a.registerTeardown(function(){u.forEach(function(t){try{t()}catch(t){}}),n.off("touchspin.uponce touchspin.downonce touchspin.startupspin touchspin.startdownspin touchspin.stopspin touchspin.updatesettings touchspin.destroy")}),n.on("touchspin.uponce",function(){var t=g(i);t&&t.upOnce()}),n.on("touchspin.downonce",function(){var t=g(i);t&&t.downOnce()}),n.on("touchspin.startupspin",function(){var t=g(i);t&&t.startUpSpin()}),n.on("touchspin.startdownspin",function(){var t=g(i);t&&t.startDownSpin()}),n.on("touchspin.stopspin",function(){var t=g(i);t&&t.stopSpin()}),n.on("touchspin.updatesettings",function(t,e){var n=g(i);n&&n.updateSettings(e||{})}),n.on("touchspin.destroy",function(){var t=g(i);t&&t.destroy()})})}}"undefined"!=typeof window&&window.jQuery&&_(window.jQuery),"undefined"!=typeof window&&(window.TouchSpin=m,window.TouchSpinCore=v,window.getTouchSpin=g,window.Bootstrap3Renderer=y,window.installJqueryTouchSpin=_),t.Bootstrap3Renderer=y,t.TouchSpin=m,t.TouchSpinCore=v,t.getTouchSpin=g,t.installJqueryTouchSpin=_});
//# sourceMappingURL=jquery.touchspin-bs3.min.js.map
