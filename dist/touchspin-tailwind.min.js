/*
 *  Bootstrap Touchspin - v4.8.0
 *  A mobile and touch friendly input spinner component for Bootstrap 3, 4 & 5.
 *  https://www.virtuosoft.eu/code/bootstrap-touchspin/
 *
 *  Made by István Ujj-Mészáros
 *  Under MIT License
 */
!function(t){"use strict";function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=Array(e);i<e;i++)n[i]=t[i];return n}function i(t,e,i){return e=o(e),function(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,u()?Reflect.construct(e,i||[],o(t).constructor):e.apply(t,i))}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,f(n.key),n)}}function a(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function r(t,e,i){return(e=f(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function u(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(t){}return(u=function(){return!!t})()}function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(Object(i),!0).forEach(function(e){r(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function p(t,e){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},p(t,e)}function h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,s,a,r,o=[],u=!0,l=!1;try{if(a=(i=i.call(t)).next,0===e);else for(;!(u=(n=a.call(i)).done)&&(o.push(n.value),o.length!==e);u=!0);}catch(t){l=!0,s=t}finally{try{if(!u&&null!=i.return&&(r=i.return(),Object(r)!==r))return}finally{if(l)throw s}}return o}}(t,e)||b(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t){return function(t){if(Array.isArray(t))return e(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:e+""}function b(t,i){if(t){if("string"==typeof t)return e(t,i);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,i):void 0}}var v={min:0,max:100,initval:"",replacementval:"",firstclickvalueifempty:null,step:1,decimals:0,forcestepdivisibility:"round",stepinterval:100,stepintervaldelay:500,verticalbuttons:!1,verticalup:"+",verticaldown:"-",verticalupclass:null,verticaldownclass:null,focusablebuttons:!1,prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttonup_class:null,buttondown_class:null,buttonup_txt:"+",buttondown_txt:"-",callback_before_calculation:function(t){return t},callback_after_calculation:function(t){return t}},y="_touchSpinCore",g=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,t),!e||"INPUT"!==e.nodeName)throw new Error("TouchSpinCore requires an <input> element");this.input=e;var s=this._parseDataAttributes(e);this.settings=Object.assign({},v,s,i),this._sanitizeSettings(),this.settings.renderer||("undefined"!=typeof globalThis&&globalThis.TouchSpinDefaultRenderer?this.settings.renderer=globalThis.TouchSpinDefaultRenderer:console.warn("TouchSpin: No renderer specified (renderer: null). Only keyboard/wheel events will work. Consider using Bootstrap3/4/5Renderer or TailwindRenderer for UI.")),this.spinning=!1,this.spincount=0,this.direction=!1,this._events=new Map,this._teardownCallbacks=[],this._settingObservers=new Map,this._spinDelayTimeout=null,this._spinIntervalTimer=null,this._upButton=null,this._downButton=null,this._wrapper=null,this._handleUpMouseDown=this._handleUpMouseDown.bind(this),this._handleDownMouseDown=this._handleDownMouseDown.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleUpKeyDown=this._handleUpKeyDown.bind(this),this._handleUpKeyUp=this._handleUpKeyUp.bind(this),this._handleDownKeyDown=this._handleDownKeyDown.bind(this),this._handleDownKeyUp=this._handleDownKeyUp.bind(this),this._handleInputChange=this._handleInputChange.bind(this),this._handleInputBlur=this._handleInputBlur.bind(this),this._handleKeyDown=this._handleKeyDown.bind(this),this._handleKeyUp=this._handleKeyUp.bind(this),this._handleWheel=this._handleWheel.bind(this),this._initializeInput(),this.settings.renderer&&(this.renderer=new this.settings.renderer(e,this.settings,this),this.renderer.init()),this._setupMutationObserver()}return a(t,[{key:"_initializeInput",value:function(){""!==this.settings.initval&&""===this.input.value&&(this.input.value=this.settings.initval),this._updateAriaAttributes(),this._syncNativeAttributes(),this._checkValue(!1)}},{key:"_sanitizeSettings",value:function(){var t=Number(this.settings.step);!isFinite(t)||t<=0?this.settings.step=1:this.settings.step=t;var e=Number(this.settings.decimals);if(!isFinite(e)||e<0?this.settings.decimals=0:this.settings.decimals=Math.floor(e),null===this.settings.min||void 0===this.settings.min||""===this.settings.min)this.settings.min=null;else{var i=Number(this.settings.min);this.settings.min=isFinite(i)?i:null}if(null===this.settings.max||void 0===this.settings.max||""===this.settings.max)this.settings.max=null;else{var n=Number(this.settings.max);this.settings.max=isFinite(n)?n:null}if(null!==this.settings.min&&null!==this.settings.max&&this.settings.min>this.settings.max){var s=this.settings.min;this.settings.min=this.settings.max,this.settings.max=s}var a=Number(this.settings.stepinterval);(!isFinite(a)||a<0)&&(this.settings.stepinterval=v.stepinterval);var r=Number(this.settings.stepintervaldelay);(!isFinite(r)||r<0)&&(this.settings.stepintervaldelay=v.stepintervaldelay)}},{key:"_parseDataAttributes",value:function(t){for(var e={},i=0,n=Object.entries({min:"min",max:"max",initval:"init-val",replacementval:"replacement-val",firstclickvalueifempty:"first-click-value-if-empty",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalup:"vertical-up",verticaldown:"vertical-down",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"});i<n.length;i++){var s=h(n[i],2),a=s[0],r=s[1],o="data-bts-".concat(r);if(t.hasAttribute(o)){var u=t.getAttribute(o);e[a]=this._coerceAttributeValue(a,u)}}for(var l=0,c=["min","max","step"];l<c.length;l++){var p=c[l];if(t.hasAttribute(p)){var d=t.getAttribute(p);void 0!==e[p]&&console.warn('Both "data-bts-'.concat(p,'" and "').concat(p,'" attributes specified. Native attribute takes precedence.'),t),e[p]=this._coerceAttributeValue(p,d)}}return e}},{key:"_coerceAttributeValue",value:function(t,e){if(null==e)return e;if(["booster","mousewheel","verticalbuttons"].includes(t))return"true"===e||""===e||e===t;if(["min","max","step","decimals","stepinterval","stepintervaldelay","boostat","maxboostedstep","firstclickvalueifempty"].includes(t)){var i=parseFloat(e);return isNaN(i)?e:i}return e}},{key:"upOnce",value:function(){if(!this.input.disabled&&!this.input.hasAttribute("readonly")){var t=this.getValue(),e=this._nextValue("up",t);if(null!==this.settings.max&&t===this.settings.max)return this.emit("max"),void(this.spinning&&"up"===this.direction&&this.stopSpin());null!==this.settings.max&&e===this.settings.max&&(this.emit("max"),this.spinning&&"up"===this.direction&&this.stopSpin()),this._setDisplay(e,!0)}}},{key:"downOnce",value:function(){if(!this.input.disabled&&!this.input.hasAttribute("readonly")){var t=this.getValue(),e=this._nextValue("down",t);if(null!==this.settings.min&&t===this.settings.min)return this.emit("min"),void(this.spinning&&"down"===this.direction&&this.stopSpin());null!==this.settings.min&&e===this.settings.min&&(this.emit("min"),this.spinning&&"down"===this.direction&&this.stopSpin()),this._setDisplay(e,!0)}}},{key:"startUpSpin",value:function(){this._startSpin("up")}},{key:"startDownSpin",value:function(){this._startSpin("down")}},{key:"stopSpin",value:function(){this._clearSpinTimers(),this.spinning&&("up"===this.direction?(this.emit("stopupspin"),this.emit("stopspin")):"down"===this.direction&&(this.emit("stopdownspin"),this.emit("stopspin"))),this.spinning=!1,this.direction=!1,this.spincount=0}},{key:"updateSettings",value:function(e){var i=this,n=c({},this.settings),s=e||{},a=t.sanitizePartialSettings(s,n);Object.assign(this.settings,a),this._sanitizeSettings();var r=Number(this.settings.step||1);void 0===a.step&&void 0===a.min&&void 0===a.max||1===r||(null!==this.settings.max&&(this.settings.max=this._alignToStep(Number(this.settings.max),r,"down")),null!==this.settings.min&&(this.settings.min=this._alignToStep(Number(this.settings.min),r,"up"))),Object.keys(this.settings).forEach(function(t){if(n[t]!==i.settings[t]){var e=i._settingObservers.get(t);e&&e.forEach(function(e){try{e(i.settings[t],n[t])}catch(t){console.error("TouchSpin: Error in setting observer callback:",t)}})}}),this._updateAriaAttributes(),this._syncNativeAttributes(),this._checkValue(!1)}},{key:"getValue",value:function(){var t=this.input.value;if(""===t&&""!==this.settings.replacementval&&(t=this.settings.replacementval),""===t)return NaN;var e=this.settings.callback_before_calculation||function(t){return t},i=parseFloat(e(String(t)));return isNaN(i)?NaN:i}},{key:"setValue",value:function(t){if(!this.input.disabled&&!this.input.hasAttribute("readonly")){var e=Number(t);if(isFinite(e)){var i=this._applyConstraints(e);this._setDisplay(i,!0)}}}},{key:"initDOMEventHandling",value:function(){this._findDOMElements(),this._attachDOMEventListeners()}},{key:"registerTeardown",value:function(t){var e=this;if("function"!=typeof t)throw new Error("Teardown callback must be a function");return this._teardownCallbacks.push(t),function(){var i=e._teardownCallbacks.indexOf(t);i>-1&&e._teardownCallbacks.splice(i,1)}}},{key:"destroy",value:function(){this.stopSpin(),this.renderer&&this.renderer.teardown&&this.renderer.teardown(),this._detachDOMEventListeners(),this._teardownCallbacks.forEach(function(t){try{t()}catch(t){console.error("TouchSpin teardown callback error:",t)}}),this._teardownCallbacks.length=0,this._settingObservers.clear(),this._mutationObserver&&(this._mutationObserver.disconnect(),this._mutationObserver=null),this._upButton=null,this._downButton=null,this.input[y]===this&&delete this.input[y]}},{key:"toPublicApi",value:function(){return{upOnce:this.upOnce.bind(this),downOnce:this.downOnce.bind(this),startUpSpin:this.startUpSpin.bind(this),startDownSpin:this.startDownSpin.bind(this),stopSpin:this.stopSpin.bind(this),updateSettings:this.updateSettings.bind(this),getValue:this.getValue.bind(this),setValue:this.setValue.bind(this),destroy:this.destroy.bind(this),on:this.on.bind(this),off:this.off.bind(this),initDOMEventHandling:this.initDOMEventHandling.bind(this),registerTeardown:this.registerTeardown.bind(this),attachUpEvents:this.attachUpEvents.bind(this),attachDownEvents:this.attachDownEvents.bind(this),observeSetting:this.observeSetting.bind(this)}}},{key:"attachUpEvents",value:function(t){t?(this._upButton=t,t.addEventListener("mousedown",this._handleUpMouseDown),t.addEventListener("touchstart",this._handleUpMouseDown,{passive:!1}),this.settings.focusablebuttons&&(t.addEventListener("keydown",this._handleUpKeyDown),t.addEventListener("keyup",this._handleUpKeyUp)),this._updateButtonDisabledState()):console.warn("TouchSpin: attachUpEvents called with null element")}},{key:"attachDownEvents",value:function(t){t?(this._downButton=t,t.addEventListener("mousedown",this._handleDownMouseDown),t.addEventListener("touchstart",this._handleDownMouseDown,{passive:!1}),this.settings.focusablebuttons&&(t.addEventListener("keydown",this._handleDownKeyDown),t.addEventListener("keyup",this._handleDownKeyUp)),this._updateButtonDisabledState()):console.warn("TouchSpin: attachDownEvents called with null element")}},{key:"observeSetting",value:function(t,e){this._settingObservers.has(t)||this._settingObservers.set(t,new Set);var i=this._settingObservers.get(t);return i.add(e),function(){return i.delete(e)}}},{key:"on",value:function(t,e){var i=this,n=this._events.get(t)||new Set;return n.add(e),this._events.set(t,n),function(){return i.off(t,e)}}},{key:"off",value:function(t,e){var i=this._events.get(t);i&&(e?(i.delete(e),0===i.size&&this._events.delete(t)):this._events.delete(t))}},{key:"emit",value:function(t,e){var i=this._events.get(t);if(i&&0!==i.size)for(var n=0,s=d(i);n<s.length;n++){var a=s[n];try{a(e)}catch(t){}}}},{key:"_startSpin",value:function(t){var e=this;if(!this.input.disabled&&!this.input.hasAttribute("readonly")){this.stopSpin();var i=this.getValue();if(!("up"===t&&null!==this.settings.max&&i===this.settings.max||"down"===t&&null!==this.settings.min&&i===this.settings.min)){(!this.spinning||this.direction!==t)&&(this.spinning=!0,this.direction=t,this.spincount=0,this.emit("startspin"),"up"===t?this.emit("startupspin"):this.emit("startdownspin")),this._clearSpinTimers();var n=this.settings.stepintervaldelay||500,s=this.settings.stepinterval||100;this._spinDelayTimeout=setTimeout(function(){e._spinDelayTimeout=null,e._spinIntervalTimer=setInterval(function(){e.spinning&&e.direction===t&&e._spinStep(t)},s)},n)}}}},{key:"_clearSpinTimers",value:function(){try{this._spinDelayTimeout&&clearTimeout(this._spinDelayTimeout)}catch(t){}try{this._spinIntervalTimer&&clearInterval(this._spinIntervalTimer)}catch(t){}this._spinDelayTimeout=null,this._spinIntervalTimer=null}},{key:"_nextValue",value:function(t,e){var i=e;if(isNaN(i))i=this._valueIfIsNaN();else{var n=this.settings.step||1,s=Math.max(1,parseInt(String(this.settings.boostat||10),10)),a=Math.pow(2,Math.floor(this.spincount/s))*n,r=this.settings.maxboostedstep,o=a;r&&isFinite(r)&&a>Number(r)&&(o=Number(r),i=Math.round(i/o)*o),o=Math.max(n,o),i="up"===t?i+o:i-o}return this._applyConstraints(i)}},{key:"_valueIfIsNaN",value:function(){if("number"==typeof this.settings.firstclickvalueifempty)return this.settings.firstclickvalueifempty;var t="number"==typeof this.settings.min?this.settings.min:0;return(t+("number"==typeof this.settings.max?this.settings.max:t))/2}},{key:"_applyConstraints",value:function(t){var e=this._forcestepdivisibility(t),i=this.settings.min,n=this.settings.max,s=e;return null!==i&&s<i&&(s=i),null!==n&&s>n&&(s=n),s}},{key:"_getBoostedStep",value:function(){var t=this.settings.step||1;if(!this.settings.booster)return t;var e=Math.max(1,parseInt(String(this.settings.boostat||10),10)),i=Math.pow(2,Math.floor(this.spincount/e))*t,n=this.settings.maxboostedstep;if(n&&isFinite(n)){var s=Number(n);i>s&&(i=s)}return Math.max(t,i)}},{key:"_forcestepdivisibility",value:function(t){var e,i=this.settings.forcestepdivisibility||"round",n=this.settings.step||1,s=this.settings.decimals||0;switch(i){case"floor":e=Math.floor(t/n)*n;break;case"ceil":e=Math.ceil(t/n)*n;break;case"none":e=t;break;default:e=Math.round(t/n)*n}return Number(e.toFixed(s))}},{key:"_alignToStep",value:function(t,e,i){if(0===e)return t;for(var n=1,s=e;s*n%1!=0&&n<1e6;)n*=10;var a=Math.round(t*n),r=Math.round(e*n),o=a%r;return 0===o?t:("down"===i?a-o:a+(r-o))/n}},{key:"_setDisplay",value:function(t,e){var i,n=String(null!==(i=this.input.value)&&void 0!==i?i:""),s=this._formatDisplay(t);return this.input.value=s,this._updateAriaAttributes(),e&&n!==s&&this.input.dispatchEvent(new Event("change",{bubbles:!0})),s}},{key:"_formatDisplay",value:function(t){var e=this.settings.decimals||0;return(this.settings.callback_after_calculation||function(t){return t})(Number(t).toFixed(e))}},{key:"_spinStep",value:function(t){this.spincount++,"up"===t?this.upOnce():this.downOnce()}},{key:"_checkValue",value:function(t){var e=this.getValue();if(isFinite(e)){var i=this._applyConstraints(e);this._setDisplay(i,!!t)}}},{key:"_updateAriaAttributes",value:function(){var t=this.input;"spinbutton"!==t.getAttribute("role")&&t.setAttribute("role","spinbutton");var e=this.settings.min,i=this.settings.max;null!==e?t.setAttribute("aria-valuemin",String(e)):t.removeAttribute("aria-valuemin"),null!==i?t.setAttribute("aria-valuemax",String(i)):t.removeAttribute("aria-valuemax");var n=t.value,s=this.settings.callback_before_calculation||function(t){return t},a=parseFloat(s(String(n)));isFinite(a)?t.setAttribute("aria-valuenow",String(a)):t.removeAttribute("aria-valuenow"),t.setAttribute("aria-valuetext",String(n))}},{key:"_syncNativeAttributes",value:function(){"number"===this.input.getAttribute("type")&&(null!==this.settings.min&&isFinite(this.settings.min)?this.input.setAttribute("min",String(this.settings.min)):this.input.removeAttribute("min"),null!==this.settings.max&&isFinite(this.settings.max)?this.input.setAttribute("max",String(this.settings.max)):this.input.removeAttribute("max"),null!==this.settings.step&&isFinite(this.settings.step)&&this.settings.step>0?this.input.setAttribute("step",String(this.settings.step)):this.input.removeAttribute("step"))}},{key:"_syncSettingsFromNativeAttributes",value:function(){var t=this.input.getAttribute("min"),e=this.input.getAttribute("max"),i=this.input.getAttribute("step"),n=!1,s={};if(null!==t){var a=""===t?null:parseFloat(t),r=null!==a&&isFinite(a)?a:null;r!==this.settings.min&&(s.min=r,n=!0)}else null!==this.settings.min&&(s.min=null,n=!0);if(null!==e){var o=""===e?null:parseFloat(e),u=null!==o&&isFinite(o)?o:null;u!==this.settings.max&&(s.max=u,n=!0)}else null!==this.settings.max&&(s.max=null,n=!0);if(null!==i){var l=""===i?null:parseFloat(i),c=null!==l&&isFinite(l)&&l>0?l:null;c!==this.settings.step&&(s.step=c,n=!0)}else 1!==this.settings.step&&(s.step=1,n=!0);n&&this.updateSettings(s)}},{key:"_findDOMElements",value:function(){for(var t=this.input.parentElement;t&&!t.hasAttribute("data-touchspin-injected");)t=t.parentElement;this._wrapper=t}},{key:"_attachDOMEventListeners",value:function(){document.addEventListener("mouseup",this._handleMouseUp),document.addEventListener("mouseleave",this._handleMouseUp),document.addEventListener("touchend",this._handleMouseUp),this.input.addEventListener("change",this._handleInputChange,!0),this.input.addEventListener("blur",this._handleInputBlur),this.input.addEventListener("keydown",this._handleKeyDown),this.input.addEventListener("keyup",this._handleKeyUp),this.input.addEventListener("wheel",this._handleWheel)}},{key:"_detachDOMEventListeners",value:function(){document.removeEventListener("mouseup",this._handleMouseUp),document.removeEventListener("mouseleave",this._handleMouseUp),document.removeEventListener("touchend",this._handleMouseUp),this.input.removeEventListener("change",this._handleInputChange,!0),this.input.removeEventListener("blur",this._handleInputBlur),this.input.removeEventListener("keydown",this._handleKeyDown),this.input.removeEventListener("keyup",this._handleKeyUp),this.input.removeEventListener("wheel",this._handleWheel)}},{key:"_handleUpMouseDown",value:function(t){t.preventDefault(),this.upOnce(),this.startUpSpin()}},{key:"_handleDownMouseDown",value:function(t){t.preventDefault(),this.downOnce(),this.startDownSpin()}},{key:"_handleMouseUp",value:function(t){this.stopSpin()}},{key:"_handleUpKeyDown",value:function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.upOnce(),this.startUpSpin())}},{key:"_handleUpKeyUp",value:function(t){13!==t.keyCode&&32!==t.keyCode||this.stopSpin()}},{key:"_handleDownKeyDown",value:function(t){13!==t.keyCode&&32!==t.keyCode||(t.preventDefault(),this.downOnce(),this.startDownSpin())}},{key:"_handleDownKeyUp",value:function(t){13!==t.keyCode&&32!==t.keyCode||this.stopSpin()}},{key:"_handleInputChange",value:function(t){var e=this.getValue(),i=this._applyConstraints(e);isFinite(e)&&e!==i&&t.stopImmediatePropagation()}},{key:"_handleInputBlur",value:function(t){this._checkValue(!0)}},{key:"_handleKeyDown",value:function(t){switch(t.key){case"ArrowUp":t.preventDefault(),this.upOnce(),this.startUpSpin();break;case"ArrowDown":t.preventDefault(),this.downOnce(),this.startDownSpin();break;case"Enter":this._checkValue(!1)}}},{key:"_handleKeyUp",value:function(t){"ArrowUp"!==t.key&&"ArrowDown"!==t.key||this.stopSpin()}},{key:"_handleWheel",value:function(t){this.settings.mousewheel&&document.activeElement===this.input&&(t.preventDefault(),t.deltaY<0?this.upOnce():t.deltaY>0&&this.downOnce())}},{key:"_setupMutationObserver",value:function(){var t=this;"undefined"!=typeof MutationObserver&&(this._mutationObserver=new MutationObserver(function(e){e.forEach(function(e){"attributes"===e.type&&("disabled"===e.attributeName||"readonly"===e.attributeName?t._updateButtonDisabledState():"min"!==e.attributeName&&"max"!==e.attributeName&&"step"!==e.attributeName||t._syncSettingsFromNativeAttributes())})}),this._mutationObserver.observe(this.input,{attributes:!0,attributeFilter:["disabled","readonly","min","max","step"]}))}},{key:"_updateButtonDisabledState",value:function(){var t=this.input.disabled||this.input.hasAttribute("readonly");this._upButton&&(this._upButton.disabled=t),this._downButton&&(this._downButton.disabled=t),t&&this.stopSpin()}}],[{key:"sanitizePartialSettings",value:function(t,e){var i=c({},t);if(Object.prototype.hasOwnProperty.call(t,"step")){var n=Number(t.step);i.step=isFinite(n)&&n>0?n:1}if(Object.prototype.hasOwnProperty.call(t,"decimals")){var s=Number(t.decimals);i.decimals=isFinite(s)&&s>=0?Math.floor(s):0}var a=Object.prototype.hasOwnProperty.call(t,"min"),r=Object.prototype.hasOwnProperty.call(t,"max");if(a)if(null===t.min||void 0===t.min||""===t.min)i.min=null;else{var o=Number(t.min);i.min=isFinite(o)?o:null}if(r)if(null===t.max||void 0===t.max||""===t.max)i.max=null;else{var u=Number(t.max);i.max=isFinite(u)?u:null}if(a&&r&&null!==i.min&&null!==i.max&&i.min>i.max){var l=i.min;i.min=i.max,i.max=l}if(Object.prototype.hasOwnProperty.call(t,"stepinterval")){var p=Number(t.stepinterval);i.stepinterval=isFinite(p)&&p>=0?p:v.stepinterval}if(Object.prototype.hasOwnProperty.call(t,"stepintervaldelay")){var h=Number(t.stepintervaldelay);i.stepintervaldelay=isFinite(h)&&h>=0?h:v.stepintervaldelay}return i}}])}();function m(t){return t[y]?t[y].toPublicApi():null}var x=function(t){function e(){return n(this,e),i(this,e,arguments)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(e,t),a(e,[{key:"init",value:function(){var t=this;this.prefixEl=null,this.postfixEl=null,this.wrapper=this.buildInputGroup();var e=this.wrapper.querySelector('[data-touchspin-injected="up"]'),i=this.wrapper.querySelector('[data-touchspin-injected="down"]');this.prefixEl=this.wrapper.querySelector('[data-touchspin-injected="prefix"]'),this.postfixEl=this.wrapper.querySelector('[data-touchspin-injected="postfix"]'),this.core.attachUpEvents(e),this.core.attachDownEvents(i),this.core.observeSetting("prefix",function(e){return t.updatePrefix(e)}),this.core.observeSetting("postfix",function(e){return t.updatePostfix(e)}),this.core.observeSetting("buttonup_class",function(e){return t.updateButtonClass("up",e)}),this.core.observeSetting("buttondown_class",function(e){return t.updateButtonClass("down",e)}),this.core.observeSetting("verticalupclass",function(e){return t.updateVerticalButtonClass("up",e)}),this.core.observeSetting("verticaldownclass",function(e){return t.updateVerticalButtonClass("down",e)}),this.core.observeSetting("verticalup",function(e){return t.updateVerticalButtonText("up",e)}),this.core.observeSetting("verticaldown",function(e){return t.updateVerticalButtonText("down",e)}),this.core.observeSetting("buttonup_txt",function(e){return t.updateButtonText("up",e)}),this.core.observeSetting("buttondown_txt",function(e){return t.updateButtonText("down",e)}),this.core.observeSetting("prefix_extraclass",function(e){return t.updatePrefixClasses()}),this.core.observeSetting("postfix_extraclass",function(e){return t.updatePostfixClasses()})}},{key:"buildInputGroup",value:function(){var t=this.input.closest(".flex");return t&&t.classList.contains("rounded-md")?this.buildAdvancedInputGroup(t):this.buildBasicInputGroup()}},{key:"buildBasicInputGroup",value:function(){this._detectInputSize();var t,e=this.settings.verticalbuttons,i=this.getWrapperTestId();t=e?'\n        <div class="flex rounded-md shadow-sm border border-gray-300 focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 has-[:disabled]:opacity-60 has-[:disabled]:bg-gray-50 has-[:read-only]:bg-gray-50" data-touchspin-injected="wrapper"'.concat(i,'>\n          <span class="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ').concat(this.settings.prefix_extraclass||"",'" data-touchspin-injected="prefix"').concat(this.getPrefixTestId(),">").concat(this.settings.prefix||"","</span>\n          ").concat(this.buildVerticalButtons(),'\n          <span class="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ').concat(this.settings.postfix_extraclass||"",'" data-touchspin-injected="postfix"').concat(this.getPostfixTestId(),">").concat(this.settings.postfix||"","</span>\n        </div>\n      "):'\n        <div class="flex rounded-md shadow-sm border border-gray-300 focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 has-[:disabled]:opacity-60 has-[:disabled]:bg-gray-50 has-[:read-only]:bg-gray-50" data-touchspin-injected="wrapper"'.concat(i,'>\n          <button tabindex="').concat(this.settings.focusablebuttons?"0":"-1",'" class="inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 rounded-l-md tailwind-btn ').concat(this.settings.buttondown_class||"",'" data-touchspin-injected="down"').concat(this.getDownButtonTestId(),' type="button" aria-label="Decrease value">').concat(this.settings.buttondown_txt||"−",'</button>\n          <span class="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ').concat(this.settings.prefix_extraclass||"",'" data-touchspin-injected="prefix"').concat(this.getPrefixTestId(),">").concat(this.settings.prefix||"",'</span>\n          <span class="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ').concat(this.settings.postfix_extraclass||"",'" data-touchspin-injected="postfix"').concat(this.getPostfixTestId(),">").concat(this.settings.postfix||"",'</span>\n          <button tabindex="').concat(this.settings.focusablebuttons?"0":"-1",'" class="inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 rounded-r-md tailwind-btn ').concat(this.settings.buttonup_class||"",'" data-touchspin-injected="up"').concat(this.getUpButtonTestId(),' type="button" aria-label="Increase value">').concat(this.settings.buttonup_txt||"+","</button>\n        </div>\n      ");var n=document.createElement("div");n.innerHTML=t.trim();var s=n.firstChild;this.input.parentElement.insertBefore(s,this.input);var a=s.querySelector('[data-touchspin-injected="prefix"]');if(a)s.insertBefore(this.input,a.nextSibling);else{var r=s.querySelector('[data-touchspin-injected="postfix"]');s.insertBefore(this.input,r)}return this.input.className=this.input.className.replace("form-control",""),this.input.classList.add("flex-1","px-3","py-2","border-0","bg-transparent","focus:outline-none","text-gray-900","placeholder-gray-500"),this._applySizeClasses(s),this.hideEmptyPrefixPostfix(s),s}},{key:"buildAdvancedInputGroup",value:function(t){t.setAttribute("data-touchspin-injected","wrapper-advanced");var e=this.input.getAttribute("data-testid");!t.getAttribute("data-testid")&&e&&t.setAttribute("data-testid","".concat(e,"-wrapper"));var i,n=this.settings.verticalbuttons;i=n?'\n        <span class="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon '.concat(this.settings.prefix_extraclass||"",'" data-touchspin-injected="prefix"').concat(this.getPrefixTestId(),">").concat(this.settings.prefix||"","</span>\n        ").concat(this.buildVerticalButtons(),'\n        <span class="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ').concat(this.settings.postfix_extraclass||"",'" data-touchspin-injected="postfix"').concat(this.getPostfixTestId(),">").concat(this.settings.postfix||"","</span>\n      "):'\n        <span class="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon '.concat(this.settings.prefix_extraclass||"",'" data-touchspin-injected="prefix"').concat(this.getPrefixTestId(),">").concat(this.settings.prefix||"",'</span>\n        <button tabindex="').concat(this.settings.focusablebuttons?"0":"-1",'" class="inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 tailwind-btn ').concat(this.settings.buttondown_class||"",'" data-touchspin-injected="down"').concat(this.getDownButtonTestId(),' type="button" aria-label="Decrease value">').concat(this.settings.buttondown_txt||"−",'</button>\n        <button tabindex="').concat(this.settings.focusablebuttons?"0":"-1",'" class="inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 tailwind-btn ').concat(this.settings.buttonup_class||"",'" data-touchspin-injected="up"').concat(this.getUpButtonTestId(),' type="button" aria-label="Increase value">').concat(this.settings.buttonup_txt||"+",'</button>\n        <span class="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ').concat(this.settings.postfix_extraclass||"",'" data-touchspin-injected="postfix"').concat(this.getPostfixTestId(),">").concat(this.settings.postfix||"","</span>\n      ");var s=document.createElement("div");s.innerHTML=i;var a=s.querySelector('[data-touchspin-injected="prefix"]');if(t.insertBefore(a,this.input),n){var r=s.querySelector('[data-touchspin-injected="vertical-wrapper"]');t.insertBefore(r,this.input.nextSibling)}else{var o=s.querySelector('[data-touchspin-injected="down"]');t.insertBefore(o,this.input);var u=s.querySelector('[data-touchspin-injected="up"]');t.insertBefore(u,this.input.nextSibling)}var l=s.querySelector('[data-touchspin-injected="postfix"]');return t.appendChild(l),this.prefixEl=a,this.postfixEl=l,this.input.className=this.input.className.replace("form-control",""),this.input.classList.add("flex-1","px-3","py-2","border-0","bg-transparent","focus:outline-none","text-gray-900","placeholder-gray-500"),this._applySizeClasses(t),this.hideEmptyPrefixPostfix(t),t}},{key:"_detectInputSize",value:function(){var t=this.input.className;return t.includes("text-sm")||t.includes("py-1")?"text-sm py-1 px-2":t.includes("text-lg")||t.includes("py-3")?"text-lg py-3 px-4":"text-base py-2 px-3"}},{key:"_applySizeClasses",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wrapper,e=this._detectInputSize();e.includes("text-sm")?(t.classList.add("text-sm"),t.querySelectorAll(".tailwind-btn").forEach(function(t){t.classList.add("py-1","px-2","text-sm")}),t.querySelectorAll(".tailwind-addon").forEach(function(t){t.classList.add("py-1","px-2","text-sm")})):e.includes("text-lg")&&(t.classList.add("text-lg"),t.querySelectorAll(".tailwind-btn").forEach(function(t){t.classList.add("py-3","px-4","text-lg")}),t.querySelectorAll(".tailwind-addon").forEach(function(t){t.classList.add("py-3","px-4","text-lg")}))}},{key:"hideEmptyPrefixPostfix",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wrapper,e=this.prefixEl||t.querySelector('[data-touchspin-injected="prefix"]'),i=this.postfixEl||t.querySelector('[data-touchspin-injected="postfix"]');!e||this.settings.prefix&&""!==this.settings.prefix||(e.style.display="none"),!i||this.settings.postfix&&""!==this.settings.postfix||(i.style.display="none")}},{key:"updatePrefix",value:function(t){var e=this.prefixEl;t&&""!==t?e&&(e.textContent=t,e.style.display="",e.className="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ".concat(this.settings.prefix_extraclass||"").trim()):e&&(e.style.display="none")}},{key:"updatePostfix",value:function(t){var e=this.postfixEl;t&&""!==t?e&&(e.textContent=t,e.style.display="",e.className="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ".concat(this.settings.postfix_extraclass||"").trim()):e&&(e.style.display="none")}},{key:"updateButtonClass",value:function(t,e){var i=this.wrapper.querySelector('[data-touchspin-injected="'.concat(t,'"]'));if(i){i.className="".concat("inline-flex items-center justify-center px-3 py-2 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:bg-gray-100 text-gray-700 font-medium border-0 tailwind-btn"," ").concat(e||"")}}},{key:"buildVerticalButtons",value:function(){return'\n      <div class="flex flex-col ml-1" data-touchspin-injected="vertical-wrapper">\n        <button tabindex="'.concat(this.settings.focusablebuttons?"0":"-1",'" class="inline-flex items-center justify-center px-2 py-1 text-xs ').concat(this.settings.verticalupclass||"bg-gray-100 hover:bg-gray-200 text-gray-700",' font-medium border border-gray-300 rounded-t tailwind-btn disabled:opacity-50 disabled:cursor-not-allowed" data-touchspin-injected="up"').concat(this.getUpButtonTestId(),' type="button" aria-label="Increase value">').concat(this.settings.verticalup||"+",'</button>\n        <button tabindex="').concat(this.settings.focusablebuttons?"0":"-1",'" class="inline-flex items-center justify-center px-2 py-1 text-xs ').concat(this.settings.verticaldownclass||"bg-gray-100 hover:bg-gray-200 text-gray-700",' font-medium border border-t-0 border-gray-300 rounded-b tailwind-btn disabled:opacity-50 disabled:cursor-not-allowed" data-touchspin-injected="down"').concat(this.getDownButtonTestId(),' type="button" aria-label="Decrease value">').concat(this.settings.verticaldown||"−","</button>\n      </div>\n    ")}},{key:"updateVerticalButtonClass",value:function(t,e){var i=this.wrapper.querySelector('[data-touchspin-injected="vertical-wrapper"]');if(i){var n=i.querySelector('[data-touchspin-injected="'.concat(t,'"]'));if(n){var s="up"===t?"rounded-t border-b-0":"rounded-b border-t-0";n.className="".concat("inline-flex items-center justify-center px-2 py-1 text-xs font-medium border border-gray-300 tailwind-btn disabled:opacity-50 disabled:cursor-not-allowed"," ").concat(s," ").concat(e||"bg-gray-100 hover:bg-gray-200 text-gray-700")}}}},{key:"updateVerticalButtonText",value:function(t,e){var i=this.wrapper.querySelector('[data-touchspin-injected="vertical-wrapper"]');if(i){var n=i.querySelector('[data-touchspin-injected="'.concat(t,'"]'));n&&(n.textContent=e||("up"===t?"+":"−"))}}},{key:"updateButtonText",value:function(t,e){var i=this.wrapper.querySelector('[data-touchspin-injected="'.concat(t,'"]'));i&&(i.textContent=e||("up"===t?"+":"−"))}},{key:"updatePrefixClasses",value:function(){var t=this.prefixEl;t&&(t.className="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ".concat(this.settings.prefix_extraclass||"").trim())}},{key:"updatePostfixClasses",value:function(){var t=this.postfixEl;t&&(t.className="inline-flex items-center px-3 py-2 bg-gray-50 text-gray-600 border-0 tailwind-addon ".concat(this.settings.postfix_extraclass||"").trim())}}])}(function(){return a(function t(e,i,s){n(this,t),this.input=e,this.settings=i,this.core=s,this.wrapper=null},[{key:"init",value:function(){throw new Error("init() must be implemented by renderer")}},{key:"teardown",value:function(){this.removeInjectedElements()}},{key:"removeInjectedElements",value:function(){var t=this;this.wrapper&&(this.wrapper.querySelectorAll("[data-touchspin-injected]").forEach(function(t){return t.remove()}),this.wrapper.hasAttribute("data-touchspin-injected")&&this.wrapper.parentElement&&("wrapper-advanced"===this.wrapper.getAttribute("data-touchspin-injected")?(this.wrapper.classList.remove("bootstrap-touchspin"),this.wrapper.removeAttribute("data-touchspin-injected")):(this.wrapper.parentElement.insertBefore(this.input,this.wrapper),this.wrapper.remove())));document.querySelectorAll("[data-touchspin-injected]").forEach(function(e){var i;(e.contains(t.input)||e.parentElement&&e.parentElement.contains(t.input)||null!==(i=t.input.parentElement)&&void 0!==i&&i.contains(e))&&e!==t.input&&e.remove()})}},{key:"getWrapperTestId",value:function(){var t=this.input.getAttribute("data-testid");return t?' data-testid="'.concat(t,'-wrapper"'):""}},{key:"getUpButtonTestId",value:function(){var t=this.input.getAttribute("data-testid");return t?' data-testid="'.concat(t,'-up"'):""}},{key:"getDownButtonTestId",value:function(){var t=this.input.getAttribute("data-testid");return t?' data-testid="'.concat(t,'-down"'):""}},{key:"getPrefixTestId",value:function(){var t=this.input.getAttribute("data-testid");return t?' data-testid="'.concat(t,'-prefix"'):""}},{key:"getPostfixTestId",value:function(){var t=this.input.getAttribute("data-testid");return t?' data-testid="'.concat(t,'-postfix"'):""}}])}());function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(t instanceof Element))throw new TypeError("TouchSpin expects an HTMLElement");return e.renderer=e.renderer||x,function(t,e){if(!t||"INPUT"!==t.nodeName)return console.warn("Must be an input."),null;if(void 0!==e){t[y]&&(console.warn("TouchSpin: Destroying existing instance and reinitializing. Consider using updateSettings() instead."),t[y].destroy());var i=new g(t,e);return t[y]=i,i.initDOMEventHandling(),i.toPublicApi()}if(!t[y]){var n=new g(t,{});return t[y]=n,n.initDOMEventHandling(),n.toPublicApi()}return t[y].toPublicApi()}(t,e)}w.get=m,w.destroy=function(t){var e=m(t);return!(!e||!e.destroy)&&(e.destroy(),!0)},"undefined"!=typeof window&&(window.TouchSpin=w,window.TouchSpinCore=g,window.getTouchSpin=m,window.TailwindRenderer=x),t.TailwindRenderer=x,t.TouchSpin=w,t.TouchSpinCore=g,t.getTouchSpin=m}({});
//# sourceMappingURL=touchspin-tailwind.min.js.map
